import{F as e}from"./Form-ZU5sk2jl.js";import{d as a,dl as o,cV as l,q as s,A as t,o as r,i as u,w as m,e as n,a as i,f as d,B as p}from"./index-GKEAcXuB.js";import{E as c}from"./el-drawer-uiASBYQh.js";import{u as f}from"./useForm-3lBMouxc.js";import{u as v}from"./useValidator-DWT2iAVw.js";const V=a({__name:"AddButtonPermission",props:{modelValue:{type:Boolean}},emits:o(["confirm"],["update:modelValue"]),setup(a,{emit:o}){const V=l(a,"modelValue"),{required:_}=v(),b=s([{field:"label",label:"label",component:"Input",colProps:{span:24}},{field:"value",label:"value",component:"Input",colProps:{span:24}}]),{formRegister:g,formMethods:h}=f(),{getFormData:j,getElFormExpose:w}=h,B=o,F=s({label:[_()],value:[_()]}),y=async()=>{const e=await w();if(!e)return;if(await(null==e?void 0:e.validate().catch((e=>{})))){const e=await j();B("confirm",e),V.value=!1}};return(a,o)=>{const l=t("BaseButton");return r(),u(i(c),{modelValue:V.value,"onUpdate:modelValue":o[1]||(o[1]=e=>V.value=e),title:"新增按钮权限"},{default:m((()=>[n(i(e),{rules:F,onRegister:i(g),schema:b},null,8,["rules","onRegister","schema"])])),footer:m((()=>[d("div",null,[n(l,{onClick:o[0]||(o[0]=()=>V.value=!1)},{default:m((()=>[p("取消")])),_:1}),n(l,{type:"primary",onClick:y},{default:m((()=>[p("确认")])),_:1})])])),_:1},8,["modelValue"])}}});export{V as _};
