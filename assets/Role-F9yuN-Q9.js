import{g as e}from"./index-1vbEv767.js";import{u as t}from"./useTable-cl2ypwzl.js";import{d as a,q as l,e as o,F as s,H as r,r as i,o as u,c as m,w as p,a as n,f as d,B as _,t as c,i as j,V as v,O as f,k as y}from"./index-GKEAcXuB.js";import{_ as g}from"./Table.vue_vue_type_script_lang-anayH0MW.js";import{E as b}from"./el-tag-gcXgi8QQ.js";import{_ as x}from"./Search.vue_vue_type_script_setup_true_lang-nLMbTrMb.js";import{_ as D}from"./ContentWrap.vue_vue_type_script_setup_true_lang-HDk6Y-Y7.js";import{_ as w}from"./Write.vue_vue_type_script_setup_true_lang-7k5WrAi1.js";import{_ as k}from"./Detail.vue_vue_type_script_setup_true_lang-HuaP6rQJ.js";import{_ as h}from"./Dialog.vue_vue_type_style_index_0_lang-VKq9m2Mo.js";import"./el-checkbox-upAhTrQa.js";import"./isEqual-HWujciGV.js";import"./el-popper-HbWFwIjF.js";import"./el-pagination-tFqcTUVn.js";import"./debounce-_f8yTWU4.js";import"./el-image-viewer-CkKK_VwJ.js";import"./el-card-C35E5TWW.js";import"./el-radio-button-OEZGYqW_.js";import"./el-dropdown-item-fFtbePcT.js";import"./refs-KAzoDvC0.js";import"./el-drawer-uiASBYQh.js";import"./use-dialog-ZuawAnk_.js";import"./index-E_IoVfNK.js";import"./Form-ZU5sk2jl.js";import"./el-col--nQWJUzm.js";import"./el-input-number-KT80Tqmc.js";import"./el-divider-MnsDxyFE.js";import"./el-tree-ILZMEsaJ.js";import"./index-pnMxinbX.js";import"./InputPassword-afB6A53A.js";import"./style.css_vue_type_style_index_0_src_true_lang-NY_KnM6t.js";import"./JsonEditor.vue_vue_type_script_setup_true_lang-2XFKYBOg.js";import"./IconPicker-dZiw3TlN.js";import"./useForm-3lBMouxc.js";import"./useIcon-E7SItH2G.js";import"./useValidator-DWT2iAVw.js";import"./index-P1iUmG5l.js";import"./tree-1FtpebiE.js";import"./Descriptions-fKdxf84Q.js";const C={class:"mb-10px"};function R(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!f(e)}const T=a({__name:"Role",setup(a){const{t:f}=y(),{tableRegister:T,tableState:V,tableMethods:N}=t({fetchDataApi:async()=>{const t=await e();return{list:t.data.list||[],total:t.data.total}}}),{dataList:S,loading:F,total:I}=V,{getList:q}=N,E=l([{field:"index",label:f("userDemo.index"),type:"index"},{field:"roleName",label:f("role.roleName")},{field:"status",label:f("menu.status"),slots:{default:e=>o(s,null,[o(b,{type:0===e.row.status?"danger":"success"},{default:()=>[1===e.row.status?f("userDemo.enable"):f("userDemo.disable")]})])}},{field:"createTime",label:f("tableDemo.displayTime")},{field:"remark",label:f("userDemo.remark")},{field:"action",label:f("userDemo.action"),width:240,slots:{default:e=>{let t,a,l;const i=e.row;return o(s,null,[o(r,{type:"primary",onClick:()=>J(i,"edit")},R(t=f("exampleDemo.edit"))?t:{default:()=>[t]}),o(r,{type:"success",onClick:()=>J(i,"detail")},R(a=f("exampleDemo.detail"))?a:{default:()=>[a]}),o(r,{type:"danger"},R(l=f("exampleDemo.del"))?l:{default:()=>[l]})])}}}]),L=l([{field:"roleName",label:f("role.roleName"),component:"Input"}]),O=i({}),P=e=>{O.value=e,q()},W=i(!1),A=i(""),B=i(),U=i(""),z=i(),H=i(!1),J=(e,t)=>{A.value=f("edit"===t?"exampleDemo.edit":"exampleDemo.detail"),U.value=t,B.value=e,W.value=!0},M=()=>{A.value=f("exampleDemo.add"),B.value=void 0,W.value=!0,U.value=""},Q=async()=>{const e=n(z);await(null==e?void 0:e.submit())&&(H.value=!0,setTimeout((()=>{H.value=!1,W.value=!1}),1e3))};return(e,t)=>(u(),m(s,null,[o(n(D),null,{default:p((()=>[o(n(x),{schema:L,onReset:P,onSearch:P},null,8,["schema"]),d("div",C,[o(n(r),{type:"primary",onClick:M},{default:p((()=>[_(c(n(f)("exampleDemo.add")),1)])),_:1})]),o(n(g),{columns:E,"default-expand-all":"","node-key":"id",data:n(S),loading:n(F),pagination:{total:n(I)},onRegister:n(T)},null,8,["columns","data","loading","pagination","onRegister"])])),_:1}),o(n(h),{modelValue:W.value,"onUpdate:modelValue":t[1]||(t[1]=e=>W.value=e),title:A.value},{footer:p((()=>["detail"!==U.value?(u(),j(n(r),{key:0,type:"primary",loading:H.value,onClick:Q},{default:p((()=>[_(c(n(f)("exampleDemo.save")),1)])),_:1},8,["loading"])):v("",!0),o(n(r),{onClick:t[0]||(t[0]=e=>W.value=!1)},{default:p((()=>[_(c(n(f)("dialogDemo.close")),1)])),_:1})])),default:p((()=>["detail"!==U.value?(u(),j(w,{key:0,ref_key:"writeRef",ref:z,"current-row":B.value},null,8,["current-row"])):(u(),j(k,{key:1,"current-row":B.value},null,8,["current-row"]))])),_:1},8,["modelValue","title"])],64))}});export{T as default};
