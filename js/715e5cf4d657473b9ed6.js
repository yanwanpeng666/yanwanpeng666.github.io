(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-service-edit"],{"0463":function(t,e,n){"use strict";var i=n("ac6b"),a=n.n(i);a.a},"0592":function(t,e,n){"use strict";var i=n("75f1"),a=n.n(i);a.a},"0e58":function(t,e,n){"use strict";n.r(e);var i=n("e9ca"),a=n("1447");for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("0592");var r=n("828b"),l=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"33ce46ee",null,!1,i["a"],void 0);e["default"]=l.exports},1447:function(t,e,n){"use strict";n.r(e);var i=n("4627"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"2b45":function(t,e,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("5de6"));n("c223"),n("fd3c"),n("8f71"),n("bf0f"),n("d4b5"),n("bd06"),n("aa9c");var o=i(n("3a53")),r=n("bfa2"),l=n("d65d"),c={data:function(){return{list:[],material:{consume_count:1},show:!1,canSearch:!1,index:[],btn:"",type:"",haveData:!1,serviceShow:!1}},onLoad:function(t){var e=this,n=this.$route.query,i=n.order_no,a=n.type;this.orderNo=i,this.type=a,"edit"===a?(uni.setNavigationBarTitle({title:"修改工单"}),(0,l.setOptionButton)({text:"新增服务",onClick:function(){e.handleGoServiceList()}}),this.btn="保存"):"complete"===a&&(uni.setNavigationBarTitle({title:"核销工单"}),this.btn="保存并推送给患者"),this.getDetail(),uni.$on("material",this.selectMaterial),uni.$on("service",this.selectService)},onPullDownRefresh:function(){uni.stopPullDownRefresh()},computed:{btnStyle:function(){return{width:"220rpx",background:"#fff !important"}},btnPrimaryStyle:function(){return{width:"edit"===this.type?"220rpx":"680rpx"}}},beforeDestroy:function(){(0,l.setOptionButton)({text:"",onClick:function(){}}),uni.$off("material",this.selectMaterial),uni.$off("service",this.selectService)},methods:{getDetail:function(){var t=this;this.haveData=!1,(0,o.default)("".concat(r.SKU_DETAIL_API,"/").concat(this.orderNo)).then((function(e){if(0===e.data.code){t.haveData=!0;var n=e.data.data.sku_details;t.list=n.map((function(t){return{name:t.sku_name,material:t.consume_detail_responses,useMaterial:1,sku_id:t.sku_id,all_detail_id:t.all_detail_id}}))}}))},removeService:function(t){var e=this;uni.showModal({title:"提示",content:"确定删除服务吗？",confirmColor:"#5E7FF6",success:function(n){n.confirm&&(e.list=e.list.filter((function(e,n){return n!==t})))}})},addMaterial:function(t){this.material={consume_count:1},this.index=[t],this.show=!0,this.canSearch=!0},removeMaterial:function(t,e){var n=this;uni.showModal({title:"提示",content:"确定删除耗材吗？",confirmColor:"#5E7FF6",success:function(i){i.confirm&&(n.list[t].material=n.list[t].material.filter((function(t,n){return n!==e})))}})},handleMaterial:function(t,e){this.material=JSON.parse(JSON.stringify(this.list[t].material[e])),this.index=[t,e],this.show=!0,this.canSearch=!1},handleGoMaterialList:function(){this.canSearch&&uni.navigateTo({url:"/pages/medical/materialSearch"})},handleGoServiceList:function(){var t=this.list.map((function(t){return t.all_detail_id})).join(",");uni.navigateTo({url:"/pages/goods/list?order_no=".concat(this.orderNo,"&ids=").concat(t)})},handleMaterialConfirm:function(){if(this.material.consume_name){var t=(0,a.default)(this.index,2),e=t[0],n=t[1],i=JSON.parse(JSON.stringify(this.material));if(void 0!==n)this.list[e].material[n]=i;else{var o=this.list[e].material.findIndex((function(t){return t.consume_id==i.consume_id}));o>-1?this.$set(this.list[e].material[o],"consume_count",this.list[e].material[o].consume_count+i.consume_count):this.list[e].material.push(i)}this.show=!1}},handleUseMaterial:function(t,e){this.list[e].useMaterial=t,t||(this.list[e].material=[])},selectMaterial:function(t){var e=t.consume_id,n=t.consume_name,i=t.consume_price,a=t.consume_spec,o=t.consume_unit;this.material=Object.assign({},this.material,{consume_id:e,consume_name:n,consume_price:i,consume_spec:a,consume_unit:o})},selectService:function(t){this.list=this.list.concat(t.map((function(t){return{name:t.sku_name,material:t.consume_detail_responses||[],useMaterial:1,sku_id:t.sku_id,all_detail_id:t.all_detail_id}})))},submit:function(){var t=this;uni.showLoading({title:"数据提交中"});var e=this.list.map((function(e){return{order_no:t.orderNo,sku_id:e.sku_id,sku_name:e.name,consume_flag:e.useMaterial,consumes:e.material,all_detail_id:e.all_detail_id}}));(0,o.default)("edit"===this.type?r.ORDER_EDIT_API:r.SKU_SERVICE_API,{data:e,method:"POST"}).then((function(e){uni.hideLoading(),0===e.data.code&&(uni.showToast({title:t.btn+"成功",icon:"none",position:"bottom",duration:2e3}),setTimeout((function(){var t=getCurrentPages().length;t<=1?(0,l.closeWindow)():uni.navigateBack({})}),500))}))}}};e.default=c},"2c0c":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var i={uIcon:n("fdb8").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"u-numberbox"},[n("v-uni-view",{staticClass:"u-icon-minus",class:{"u-icon-disabled":t.disabled||t.inputVal<=t.min},style:{background:t.bgColor,height:t.inputHeight+"rpx",color:t.color},on:{touchstart:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.btnTouchStart("minus")},touchend:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.clearTimer.apply(void 0,arguments)}}},[n("u-icon",{attrs:{name:"minus",size:t.size}})],1),n("v-uni-input",{staticClass:"u-number-input",class:{"u-input-disabled":t.disabled},style:{color:t.color,fontSize:t.size+"rpx",background:t.bgColor,height:t.inputHeight+"rpx",width:t.inputWidth+"rpx"},attrs:{disabled:t.disabledInput||t.disabled,"cursor-spacing":t.getCursorSpacing,type:"number"},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.onBlur.apply(void 0,arguments)},focus:function(e){arguments[0]=e=t.$handleEvent(e),t.onFocus.apply(void 0,arguments)}},model:{value:t.inputVal,callback:function(e){t.inputVal=e},expression:"inputVal"}}),n("v-uni-view",{staticClass:"u-icon-plus",class:{"u-icon-disabled":t.disabled||t.inputVal>=t.max},style:{background:t.bgColor,height:t.inputHeight+"rpx",color:t.color},on:{touchstart:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.btnTouchStart("plus")},touchend:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.clearTimer.apply(void 0,arguments)}}},[n("u-icon",{attrs:{name:"plus",size:t.size}})],1)],1)},o=[]},3259:function(t,e,n){var i=n("c86c");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.u-tab-item[data-v-17185697]:not(:nth-last-child(2))::after{content:"";position:absolute;top:50%;right:1px;-webkit-transform:translateY(-50%);transform:translateY(-50%);width:1px;height:20px;background-color:#cecece}.u-model__footer__button[data-v-17185697]:not(:last-child){position:relative}.u-model__footer__button[data-v-17185697]:not(:last-child)::after{content:"";position:absolute;top:50%;right:1px;-webkit-transform:translateY(-50%);transform:translateY(-50%);width:1px;height:30px;background-color:#cecece}',""]),t.exports=e},"447c":function(t,e,n){"use strict";n.r(e);var i=n("a4da"),a=n("5f89");for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("da7a");var r=n("828b"),l=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"bec15610",null,!1,i["a"],void 0);e["default"]=l.exports},4627:function(t,e,n){"use strict";n("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("64aa");var i={name:"u-cell-item",props:{icon:{type:String,default:""},title:{type:[String,Number],default:""},value:{type:[String,Number],default:""},label:{type:[String,Number],default:""},borderBottom:{type:Boolean,default:!0},borderTop:{type:Boolean,default:!1},hoverClass:{type:String,default:"u-cell-hover"},arrow:{type:Boolean,default:!0},center:{type:Boolean,default:!1},required:{type:Boolean,default:!1},titleWidth:{type:[Number,String],default:""},arrowDirection:{type:String,default:"right"},titleStyle:{type:Object,default:function(){return{}}},valueStyle:{type:Object,default:function(){return{}}},labelStyle:{type:Object,default:function(){return{}}},bgColor:{type:String,default:"transparent"},index:{type:[String,Number],default:""},useLabelSlot:{type:Boolean,default:!1},iconSize:{type:[Number,String],default:34},iconStyle:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:{arrowStyle:function(){var t={};return"up"==this.arrowDirection?t.transform="rotate(-90deg)":"down"==this.arrowDirection?t.transform="rotate(90deg)":t.transform="rotate(0deg)",t}},methods:{click:function(){this.$emit("click",this.index)}}};e.default=i},"469a":function(t,e,n){var i=n("77ae");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("967d").default;a("11d612b4",i,!0,{sourceMap:!1,shadowMode:!1})},"5f89":function(t,e,n){"use strict";n.r(e);var i=n("2b45"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"6ad0":function(t,e,n){var i=n("c51b");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("967d").default;a("51499638",i,!0,{sourceMap:!1,shadowMode:!1})},"6c53":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"u-cell-box"},[t.title?n("v-uni-view",{staticClass:"u-cell-title",style:[t.titleStyle]},[t._v(t._s(t.title))]):t._e(),n("v-uni-view",{staticClass:"u-cell-item-box",class:{"u-border-bottom u-border-top":t.border}},[t._t("default")],2)],1)},a=[]},"75f1":function(t,e,n){var i=n("8fef");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("967d").default;a("b7f3fdea",i,!0,{sourceMap:!1,shadowMode:!1})},"77ae":function(t,e,n){var i=n("c86c");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.u-tab-item[data-v-0e487a9c]:not(:nth-last-child(2))::after{content:"";position:absolute;top:50%;right:1px;-webkit-transform:translateY(-50%);transform:translateY(-50%);width:1px;height:20px;background-color:#cecece}.u-model__footer__button[data-v-0e487a9c]:not(:last-child){position:relative}.u-model__footer__button[data-v-0e487a9c]:not(:last-child)::after{content:"";position:absolute;top:50%;right:1px;-webkit-transform:translateY(-50%);transform:translateY(-50%);width:1px;height:30px;background-color:#cecece}.u-cell-box[data-v-0e487a9c]{width:100%}.u-cell-title[data-v-0e487a9c]{padding:%?30?% %?32?% %?10?% %?32?%;font-size:%?30?%;text-align:left;color:#999}.u-cell-item-box[data-v-0e487a9c]{background-color:#fff;flex-direction:row}',""]),t.exports=e},"8a0e":function(t,e,n){"use strict";n("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("64aa"),n("5c47"),n("0506"),n("5ef2"),n("c9b5"),n("bf0f"),n("ab80");var i={name:"u-number-box",props:{value:{type:Number,default:1},bgColor:{type:String,default:"#F2F3F5"},min:{type:Number,default:0},max:{type:Number,default:99999},step:{type:Number,default:1},disabled:{type:Boolean,default:!1},size:{type:[Number,String],default:26},color:{type:String,default:"#323233"},inputWidth:{type:[Number,String],default:80},inputHeight:{type:[Number,String],default:50},index:{type:[Number,String],default:""},disabledInput:{type:Boolean,default:!1},cursorSpacing:{type:[Number,String],default:100},longPress:{type:Boolean,default:!0},pressTime:{type:[Number,String],default:250},positiveInteger:{type:Boolean,default:!0}},watch:{value:function(t,e){this.changeFromInner||(this.inputVal=t,this.$nextTick((function(){this.changeFromInner=!1})))},inputVal:function(t,e){var n=this;if(""!=t){var i=0,a=this.$u.test.number(t);i=a&&t>=this.min&&t<=this.max?t:e,this.positiveInteger&&(t<0||-1!==String(t).indexOf("."))&&(i=e,this.$nextTick((function(){n.inputVal=e}))),this.handleChange(i,"change")}}},data:function(){return{inputVal:1,timer:null,changeFromInner:!1,innerChangeTimer:null}},created:function(){this.inputVal=Number(this.value)},computed:{getCursorSpacing:function(){return Number(uni.upx2px(this.cursorSpacing))}},methods:{btnTouchStart:function(t){var e=this;this[t](),this.longPress&&(clearInterval(this.timer),this.timer=null,this.timer=setInterval((function(){e[t]()}),this.pressTime))},clearTimer:function(){var t=this;this.$nextTick((function(){clearInterval(t.timer),t.timer=null}))},minus:function(){this.computeVal("minus")},plus:function(){this.computeVal("plus")},calcPlus:function(t,e){var n,i,a;try{i=t.toString().split(".")[1].length}catch(r){i=0}try{a=e.toString().split(".")[1].length}catch(r){a=0}n=Math.pow(10,Math.max(i,a));var o=i>=a?i:a;return((t*n+e*n)/n).toFixed(o)},calcMinus:function(t,e){var n,i,a;try{i=t.toString().split(".")[1].length}catch(r){i=0}try{a=e.toString().split(".")[1].length}catch(r){a=0}n=Math.pow(10,Math.max(i,a));var o=i>=a?i:a;return((t*n-e*n)/n).toFixed(o)},computeVal:function(t){if(uni.hideKeyboard(),!this.disabled){var e=0;"minus"===t?e=this.calcMinus(this.inputVal,this.step):"plus"===t&&(e=this.calcPlus(this.inputVal,this.step)),e<this.min||e>this.max||(this.inputVal=e,this.handleChange(e,t))}},onBlur:function(t){var e=this,n=0,i=t.detail.value;/(^\d+$)/.test(i)&&0!=i[0]||(n=this.min),n=+i,n>this.max?n=this.max:n<this.min&&(n=this.min),this.$nextTick((function(){e.inputVal=n})),this.handleChange(n,"blur")},onFocus:function(){this.$emit("focus")},handleChange:function(t,e){var n=this;this.disabled||(this.innerChangeTimer&&(clearTimeout(this.innerChangeTimer),this.innerChangeTimer=null),this.changeFromInner=!0,this.innerChangeTimer=setTimeout((function(){n.changeFromInner=!1}),150),this.$emit("input",Number(t)),this.$emit(e,{value:Number(t),index:this.index}))}}};e.default=i},"8fef":function(t,e,n){var i=n("c86c");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.u-tab-item[data-v-33ce46ee]:not(:nth-last-child(2))::after{content:"";position:absolute;top:50%;right:1px;-webkit-transform:translateY(-50%);transform:translateY(-50%);width:1px;height:20px;background-color:#cecece}.u-model__footer__button[data-v-33ce46ee]:not(:last-child){position:relative}.u-model__footer__button[data-v-33ce46ee]:not(:last-child)::after{content:"";position:absolute;top:50%;right:1px;-webkit-transform:translateY(-50%);transform:translateY(-50%);width:1px;height:30px;background-color:#cecece}.u-cell[data-v-33ce46ee]{display:flex;flex-direction:row;align-items:center;position:relative;box-sizing:border-box;width:100%;padding:%?26?% %?32?%;font-size:%?28?%;line-height:%?54?%;color:#666;background-color:#fff;text-align:left}.u-cell_title[data-v-33ce46ee]{font-size:%?28?%}.u-cell__left-icon-wrap[data-v-33ce46ee]{margin-right:%?10?%;font-size:%?32?%}.u-cell__right-icon-wrap[data-v-33ce46ee]{margin-left:%?10?%;color:#969799;font-size:%?28?%}.u-cell__left-icon-wrap[data-v-33ce46ee],\n.u-cell__right-icon-wrap[data-v-33ce46ee]{display:flex;flex-direction:row;align-items:center;height:%?48?%}.u-cell-border[data-v-33ce46ee]:after{position:absolute;box-sizing:border-box;content:" ";pointer-events:none;border-bottom:1px solid #eee;right:0;left:0;top:0;-webkit-transform:scaleY(.5);transform:scaleY(.5)}.u-cell-border[data-v-33ce46ee]{position:relative}.u-cell__label[data-v-33ce46ee]{margin-top:%?6?%;font-size:%?26?%;line-height:%?36?%;color:#999;word-wrap:break-word}.u-cell__value[data-v-33ce46ee]{overflow:hidden;text-align:right;vertical-align:middle;color:#999;font-size:%?26?%}.u-cell__title[data-v-33ce46ee],\n.u-cell__value[data-v-33ce46ee]{flex:1}.u-cell--required[data-v-33ce46ee]{overflow:visible;display:flex;flex-direction:row;align-items:center}.u-cell--required[data-v-33ce46ee]:before{position:absolute;content:"*";left:8px;margin-top:%?4?%;font-size:14px;color:#f56c6c}.u-cell_right[data-v-33ce46ee]{line-height:1}',""]),t.exports=e},"95ae":function(t,e,n){"use strict";n.r(e);var i=n("ed50"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},9921:function(t,e,n){"use strict";n.r(e);var i=n("d476"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},a139:function(t,e,n){"use strict";var i=n("ad4a"),a=n.n(i);a.a},a4da:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var i={uCellGroup:n("c33b").default,uCellItem:n("0e58").default,uGap:n("f9a7").default,uButton:n("4d53").default,uPopup:n("2800").default,uNumberBox:n("ecee").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticStyle:{"padding-bottom":"160rpx",background:"#f8f8f8","min-height":"100vh"}},[n("v-uni-scroll-view",t._l(t.list,(function(e,i){return n("v-uni-view",{key:i},[n("u-cell-group",[n("u-cell-item",{attrs:{arrow:!1}},[n("v-uni-image",{staticClass:"material-icon",staticStyle:{"margin-right":"16rpx"},attrs:{slot:"icon",src:"/static/icon_service.png"},slot:"icon"}),n("v-uni-view",{staticStyle:{color:"#329bcc"},attrs:{slot:"title"},slot:"title"},[t._v("服务"+t._s(i+1))]),t.serviceShow?n("v-uni-view",{staticClass:"material-icon-wrap",attrs:{slot:"right-icon"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.removeService(i)}},slot:"right-icon"},[1!=t.list.length||0!=i?n("v-uni-image",{staticClass:"material-icon",attrs:{src:"/static/icon_close.png"}}):t._e()],1):t._e()],1),n("u-cell-item",{attrs:{title:"服务项目",value:e.name,arrow:!1,"hover-class":"none"}}),t._l(e.material,(function(e,a){return n("u-cell-item",{key:a,attrs:{title:"耗材"+(a+1)}},[n("v-uni-image",{staticClass:"material-icon",staticStyle:{"margin-right":"20rpx"},attrs:{slot:"icon",src:"/static/icon_delete.png"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.removeMaterial(i,a)}},slot:"icon"}),n("v-uni-view",{staticClass:"material-text",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleMaterial(i,a)}}},[t._v(t._s(e.consume_name)),n("v-uni-view",{staticStyle:{"font-size":"24rpx",color:"#999"}},[t._v(t._s("规格: "+e.consume_spec)+t._s("价格: "+e.consume_price+"/"+e.consume_unit)+t._s("数量: "+e.consume_count))])],1)],1)})),e.useMaterial?n("u-cell-item",{attrs:{title:"耗材",arrow:!1,"hover-class":"none"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.addMaterial(i)}}},[n("v-uni-image",{staticClass:"material-icon",attrs:{slot:"right-icon",src:"/static/icon_increase.png"},slot:"right-icon"})],1):t._e()],2),n("u-gap",{attrs:{height:"20","bg-color":"#f8f8f8"}})],1)})),1),t.haveData?n("v-uni-view",{staticClass:"fixed-container"},[t.serviceShow?n("v-uni-view",{staticStyle:{display:"flex","flex-direction":"row","margin-right":"30rpx","align-items":"center"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleGoServiceList.apply(void 0,arguments)}}},[n("v-uni-image",{staticStyle:{width:"64rpx",height:"64rpx","margin-right":"16rpx"},attrs:{src:"/static/icon_ygfy.png"}}),n("v-uni-view",{staticStyle:{display:"flex","flex-direction":"column"}},[n("v-uni-text",{staticStyle:{"font-size":"28rpx"}},[t._v("从患者已购服务中添加")]),n("v-uni-text",{staticStyle:{"font-size":"22rpx",color:"#999","padding-top":"8rpx"}},[t._v("还未购买的服务,需要先在患者端购买")])],1)],1):t._e(),n("u-button",{attrs:{"hover-class":"none","custom-style":{flex:1},type:"primary",shape:"edit"===t.type?"square":"circle"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v(t._s(t.btn))])],1):t._e(),n("u-popup",{attrs:{mode:"bottom","safe-area-inset-bottom":!0,"border-radius":"12"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("v-uni-view",{staticClass:"bottom"},[n("v-uni-view",{staticClass:"popup-header"},[n("v-uni-text",{staticStyle:{color:"#999"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.show=!1}}},[t._v("取消")]),n("v-uni-text",{staticStyle:{flex:"1","text-align":"center"}},[t._v(t._s(t.canSearch?"新增":"修改")+"耗材")]),n("v-uni-text",{staticStyle:{color:"#589ffe"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleMaterialConfirm.apply(void 0,arguments)}}},[t._v("确定")])],1),n("v-uni-view",[n("u-cell-group",[n("u-cell-item",{attrs:{title:"选择耗材",arrow:t.canSearch,"hover-class":t.canSearch?"u-cell-hover":"none"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleGoMaterialList.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"material-text"},[t._v(t._s(t.material.consume_name?t.material.consume_name:"请选择"))])],1),t.material.consume_spec?n("u-cell-item",{attrs:{title:"规格",arrow:!1,"hover-class":"none"}},[t._v(t._s(t.material.consume_spec))]):t._e(),t.material.consume_price?n("u-cell-item",{attrs:{title:"价格",arrow:!1,"hover-class":"none"}},[t._v(t._s(t.material.consume_price+"/"+t.material.consume_unit))]):t._e(),n("u-cell-item",{attrs:{title:"数量",arrow:!1,"hover-class":"none"}},[n("u-number-box",{attrs:{min:1,"disabled-input":!0},model:{value:t.material.consume_count,callback:function(e){t.$set(t.material,"consume_count",e)},expression:"material.consume_count"}})],1)],1)],1)],1)],1)],1)},o=[]},ac6b:function(t,e,n){var i=n("ced5");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("967d").default;a("41b0d5ec",i,!0,{sourceMap:!1,shadowMode:!1})},ad4a:function(t,e,n){var i=n("3259");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("967d").default;a("ed324caa",i,!0,{sourceMap:!1,shadowMode:!1})},b569:function(t,e,n){"use strict";var i=n("469a"),a=n.n(i);a.a},c33b:function(t,e,n){"use strict";n.r(e);var i=n("6c53"),a=n("9921");for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("b569");var r=n("828b"),l=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"0e487a9c",null,!1,i["a"],void 0);e["default"]=l.exports},c51b:function(t,e,n){var i=n("c86c");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.u-tab-item[data-v-bec15610]:not(:nth-last-child(2))::after{content:"";position:absolute;top:50%;right:1px;-webkit-transform:translateY(-50%);transform:translateY(-50%);width:1px;height:20px;background-color:#cecece}.u-model__footer__button[data-v-bec15610]:not(:last-child){position:relative}.u-model__footer__button[data-v-bec15610]:not(:last-child)::after{content:"";position:absolute;top:50%;right:1px;-webkit-transform:translateY(-50%);transform:translateY(-50%);width:1px;height:30px;background-color:#cecece}.fixed-container[data-v-bec15610]{position:fixed;padding:%?20?% %?30?%;bottom:0;\n  /* padding-bottom: 30rpx; */\n  /*padding-bottom: calc(20rpx + constant(safe-area-inset-bottom, 20rpx));  兼容 iOS < 11.2 */\n  /*padding-bottom: calc(20rpx + env(safe-area-inset-bottom, 20rpx));  兼容 iOS >= 11.2 */border-top:%?2?% solid #eee;left:0;display:flex;flex-direction:row;justify-content:space-around;width:100%;z-index:2;background:#fff}.material-icon[data-v-bec15610]{width:%?36?%;height:%?36?%}.material-icon-wrap[data-v-bec15610]{display:flex;justify-content:center;align-items:center}.material-text[data-v-bec15610]{padding-left:%?30?%;line-height:1.2;color:#666}.popup-header[data-v-bec15610]{padding:%?30?%;display:flex;flex-direction:row}.bottom[data-v-bec15610]{\n  /* padding-bottom: 30rpx; */\n  /* padding-bottom: calc(30rpx + constant(safe-area-inset-bottom, 20rpx));兼容 iOS < 11.2 */\n  /* padding-bottom: calc(30rpx + env(safe-area-inset-bottom, 20rpx));  兼容 iOS >= 11.2 */}',""]),t.exports=e},ced5:function(t,e,n){var i=n("c86c");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.u-tab-item[data-v-5634e5e7]:not(:nth-last-child(2))::after{content:"";position:absolute;top:50%;right:1px;-webkit-transform:translateY(-50%);transform:translateY(-50%);width:1px;height:20px;background-color:#cecece}.u-model__footer__button[data-v-5634e5e7]:not(:last-child){position:relative}.u-model__footer__button[data-v-5634e5e7]:not(:last-child)::after{content:"";position:absolute;top:50%;right:1px;-webkit-transform:translateY(-50%);transform:translateY(-50%);width:1px;height:30px;background-color:#cecece}.u-numberbox[data-v-5634e5e7]{display:inline-flex;align-items:center}.u-number-input[data-v-5634e5e7]{position:relative;text-align:center;padding:0;margin:0 %?6?%;display:flex;flex-direction:row;align-items:center;justify-content:center}.u-icon-plus[data-v-5634e5e7],\n.u-icon-minus[data-v-5634e5e7]{width:%?60?%;display:flex;flex-direction:row;justify-content:center;align-items:center}.u-icon-plus[data-v-5634e5e7]{border-radius:0 %?8?% %?8?% 0}.u-icon-minus[data-v-5634e5e7]{border-radius:%?8?% 0 0 %?8?%}.u-icon-disabled[data-v-5634e5e7]{color:#c8c9cc!important;background:#f7f8fa!important}.u-input-disabled[data-v-5634e5e7]{color:#c8c9cc!important;background-color:#f2f3f5!important}',""]),t.exports=e},d476:function(t,e,n){"use strict";n("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"u-cell-group",props:{title:{type:String,default:""},border:{type:Boolean,default:!0},titleStyle:{type:Object,default:function(){return{}}}},data:function(){return{index:0}}};e.default=i},da7a:function(t,e,n){"use strict";var i=n("6ad0"),a=n.n(i);a.a},e9ca:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var i={uIcon:n("fdb8").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"u-cell",class:{"u-border-bottom":t.borderBottom,"u-border-top":t.borderTop,"u-col-center":t.center,"u-cell--required":t.required},style:{backgroundColor:t.bgColor},attrs:{"hover-stay-time":"150","hover-class":t.hoverClass},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.click.apply(void 0,arguments)}}},[t.icon?n("u-icon",{staticClass:"u-cell__left-icon-wrap",attrs:{size:t.iconSize,name:t.icon,"custom-style":t.iconStyle}}):n("v-uni-view",{staticClass:"u-flex"},[t._t("icon")],2),n("v-uni-view",{staticClass:"u-cell_title",style:[{width:t.titleWidth?t.titleWidth+"rpx":"auto"},t.titleStyle]},[t.title?[t._v(t._s(t.title))]:t._t("title"),t.label||t.$slots.label?n("v-uni-view",{staticClass:"u-cell__label",style:[t.labelStyle]},[t.label?[t._v(t._s(t.label))]:t._t("label")],2):t._e()],2),n("v-uni-view",{staticClass:"u-cell__value",style:[t.valueStyle]},[t.value?[t._v(t._s(t.value))]:t._t("default")],2),t.$slots["right-icon"]?n("v-uni-view",{staticClass:"u-flex u-cell_right"},[t._t("right-icon")],2):t._e(),t.arrow?n("u-icon",{staticClass:"u-icon-wrap u-cell__right-icon-wrap",style:[t.arrowStyle],attrs:{name:"arrow-right",color:"#999"}}):t._e()],1)},o=[]},ecee:function(t,e,n){"use strict";n.r(e);var i=n("2c0c"),a=n("fbee");for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("0463");var r=n("828b"),l=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"5634e5e7",null,!1,i["a"],void 0);e["default"]=l.exports},ed50:function(t,e,n){"use strict";n("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("64aa");var i={name:"u-gap",props:{bgColor:{type:String,default:"transparent "},height:{type:[String,Number],default:30},marginTop:{type:[String,Number],default:0},marginBottom:{type:[String,Number],default:0},customStyle:{type:Object,default:function(){return{}}}},computed:{gapStyle:function(){return{backgroundColor:this.bgColor,height:this.height+"rpx",marginTop:this.marginTop+"rpx",marginBottom:this.marginBottom+"rpx"}}}};e.default=i},f35a:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var i=function(){var t=this.$createElement,e=this._self._c||t;return e("v-uni-view",{staticClass:"u-gap",style:[this.gapStyle,this.customStyle]})},a=[]},f9a7:function(t,e,n){"use strict";n.r(e);var i=n("f35a"),a=n("95ae");for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("a139");var r=n("828b"),l=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"17185697",null,!1,i["a"],void 0);e["default"]=l.exports},fbee:function(t,e,n){"use strict";n.r(e);var i=n("8a0e"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a}}]);