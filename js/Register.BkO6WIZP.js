import{d as e,aX as a,o as r,r as s,c as l,ey as o,aK as i,g as t,f as d,D as n,m as p,G as m,i as u,w as c,$ as g,E as f,ag as h,ez as w,e as _,aT as v,ai as y,ah as x,aZ as b}from"./index.Dv9sjPYC.js";import{E as V}from"./text.PvK_Xx8y.js";import{E as C,a as j}from"./form-item.DgRMSZzs.js";import{E as k}from"./link.CHuo07Uc.js";import{E as q}from"./checkbox.Cq-dvxYE.js";/* empty css                */import{E as K}from"./popper.m2lNosSJ.js";import"./castArray.D1K_WIrw.js";import"./_baseClone.Br4BWTY9.js";import"./omit.B6E_lyF8.js";const E={"text-center":"","m-0":"","mb-20px":""},U={flex:""},M=["src"],P={class:"flex-y-center w-full gap-10px"},L={"flex-center":"","gap-10px":""},z=e({__name:"Register",emits:["update:modelValue"],setup(e,{emit:z}){const{t:A}=a(),R=z,S=()=>R("update:modelValue","login");r(()=>F());const B=s(),D=s(!1),G=s(!1),Q=s(),T=s(!1),X=s({username:"admin",password:"123456",confirmPassword:"",captchaKey:"",captchaCode:"",rememberMe:!1}),Z=l(()=>({username:[{required:!0,trigger:"blur",message:A("login.message.username.required")}],password:[{required:!0,trigger:"blur",message:A("login.message.password.required")},{min:6,message:A("login.message.password.min"),trigger:"blur"}],confirmPassword:[{required:!0,trigger:"blur",message:A("login.message.password.required")},{min:6,message:A("login.message.password.min"),trigger:"blur"},{validator:(e,a)=>a===X.value.password,trigger:"blur",message:A("login.message.password.inconformity")}],captchaCode:[{required:!0,trigger:"blur",message:A("login.message.captchaCode.required")}]})),$=s(!1);function F(){$.value=!0,o.getCaptcha().then(e=>{X.value.captchaKey=e.captchaKey,Q.value=e.captchaBase64}).finally(()=>$.value=!1)}function H(e){e instanceof KeyboardEvent&&(G.value=e.getModifierState("CapsLock"))}const I=async()=>{await(B.value?.validate()),b.warning("开发中 ...")};return(e,a)=>{const r=i("User"),s=f,l=g,o=C,b=K,z=i("Loading"),R=q,J=k,N=x,O=j,W=V;return d(),t("div",null,[n("h3",E,m(u(A)("login.reg")),1),p(O,{ref_key:"formRef",ref:B,model:u(X),rules:u(Z),size:"large"},{default:c(()=>[p(o,{prop:"username"},{default:c(()=>[p(l,{modelValue:u(X).username,"onUpdate:modelValue":a[0]||(a[0]=e=>u(X).username=e),modelModifiers:{trim:!0},placeholder:u(A)("login.username")},{prefix:c(()=>[p(s,null,{default:c(()=>[p(r)]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1}),p(b,{visible:u(G),content:u(A)("login.capsLock"),placement:"right"},{default:c(()=>[p(o,{prop:"password"},{default:c(()=>[p(l,{modelValue:u(X).password,"onUpdate:modelValue":a[1]||(a[1]=e=>u(X).password=e),modelModifiers:{trim:!0},placeholder:u(A)("login.password"),type:"password","show-password":"",onKeyup:[H,h(I,["enter"])]},{prefix:c(()=>[p(s,null,{default:c(()=>[p(u(w))]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1})]),_:1},8,["visible","content"]),p(b,{visible:u(G),content:u(A)("login.capsLock"),placement:"right"},{default:c(()=>[p(o,{prop:"confirmPassword"},{default:c(()=>[p(l,{modelValue:u(X).confirmPassword,"onUpdate:modelValue":a[2]||(a[2]=e=>u(X).confirmPassword=e),modelModifiers:{trim:!0},placeholder:u(A)("login.message.password.confirm"),type:"password","show-password":"",onKeyup:[H,h(I,["enter"])]},{prefix:c(()=>[p(s,null,{default:c(()=>[p(u(w))]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1})]),_:1},8,["visible","content"]),p(o,{prop:"captchaCode"},{default:c(()=>[n("div",U,[p(l,{modelValue:u(X).captchaCode,"onUpdate:modelValue":a[3]||(a[3]=e=>u(X).captchaCode=e),modelModifiers:{trim:!0},placeholder:u(A)("login.captchaCode"),onKeyup:h(I,["enter"])},{prefix:c(()=>[...a[5]||(a[5]=[n("div",{class:"i-svg:captcha"},null,-1)])]),_:1},8,["modelValue","placeholder"]),n("div",{"cursor-pointer":"",h:"[40px]",w:"[120px]","flex-center":"","ml-10px":"",onClick:F},[u($)?(d(),_(s,{key:0,class:"is-loading"},{default:c(()=>[p(z)]),_:1})):(d(),t("img",{key:1,"object-cover":"","border-rd-4px":"","p-1px":"",shadow:"[0_0_0_1px_var(--el-border-color)_inset]",src:u(Q),alt:"code"},null,8,M))])])]),_:1}),p(o,null,{default:c(()=>[n("div",P,[p(R,{modelValue:u(T),"onUpdate:modelValue":a[4]||(a[4]=e=>v(T)?T.value=e:null)},{default:c(()=>[y(m(u(A)("login.agree")),1)]),_:1},8,["modelValue"]),p(J,{type:"primary",underline:"never"},{default:c(()=>[y(m(u(A)("login.userAgreement")),1)]),_:1})])]),_:1}),p(o,null,{default:c(()=>[p(N,{loading:u(D),type:"success",class:"w-full",onClick:I},{default:c(()=>[y(m(u(A)("login.register")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"]),n("div",L,[p(W,{size:"default"},{default:c(()=>[y(m(u(A)("login.haveAccount")),1)]),_:1}),p(J,{type:"primary",underline:"never",onClick:S},{default:c(()=>[y(m(u(A)("login.login")),1)]),_:1})])])}}});export{z as default};
