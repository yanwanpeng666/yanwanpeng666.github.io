(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-56cfa870"],{"0bfb":function(t,e,n){"use strict";var a=n("cb7c");t.exports=function(){var t=a(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"11e9":function(t,e,n){var a=n("52a7"),r=n("4630"),i=n("6821"),c=n("6a99"),s=n("69a8"),o=n("c69a"),l=Object.getOwnPropertyDescriptor;e.f=n("9e1e")?l:function(t,e){if(t=i(t),e=c(e,!0),o)try{return l(t,e)}catch(n){}if(s(t,e))return r(!a.f.call(t,e),t[e])}},"13f7":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-card",[n("slot-common",{staticStyle:{"font-size":"18px"},attrs:{slot:"header"},slot:"header"},[n("template",{slot:"title"},[t._v("内容列表")])],2),n("el-form",[n("el-form-item",{attrs:{label:"文章状态"}},[n("el-radio-group",{on:{change:t.refreshList},model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[n("el-radio",{attrs:{label:5}},[t._v("全部")]),n("el-radio",{attrs:{label:0}},[t._v("草稿")]),n("el-radio",{attrs:{label:1}},[t._v("待审核")]),n("el-radio",{attrs:{label:2}},[t._v("审核成功")]),n("el-radio",{attrs:{label:3}},[t._v("审核失败")])],1)],1),n("el-form-item",{attrs:{label:"频道列表"}},[n("el-select",{attrs:{placeholder:"请选择"},on:{change:t.refreshList},model:{value:t.formData.channel_id,callback:function(e){t.$set(t.formData,"channel_id",e)},expression:"formData.channel_id"}},t._l(t.channels,function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1),n("el-form-item",{attrs:{label:"时间选择"}},[n("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"daterange","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:t.refreshList},model:{value:t.formData.dataRange,callback:function(e){t.$set(t.formData,"dataRange",e)},expression:"formData.dataRange"}})],1)],1),n("div",{staticClass:"content-title"},[t._v("共找到"+t._s(t.page.total)+"条符合条件的内容")]),n("div",{staticClass:"content"},t._l(t.contentList,function(e,a){return n("div",{key:a,staticClass:"content-item"},[n("div",{staticClass:"content-left"},[n("img",{attrs:{src:e.cover.images[0],alt:""}}),n("div",{staticClass:"content-info"},[n("span",[t._v(t._s(e.title))]),n("el-tag",{staticStyle:{width:"60px"},attrs:{type:t._f("statusType")(e.status)}},[t._v(t._s(t._f("statusText")(e.status)))]),n("span",{staticClass:"data"},[t._v(t._s(e.pubdate))])],1)]),n("div",{staticClass:"content-right"},[n("span",{staticStyle:{cursor:"pointer"}},[n("i",{staticClass:"el-icon-edit"}),t._v("\n                修改\n              ")]),n("span",{staticStyle:{cursor:"pointer"},on:{click:function(n){return t.delItem(e.id)}}},[n("i",{staticClass:"el-icon-delete"}),t._v("\n                 删除\n               ")])])])}),0),n("el-row",{staticStyle:{margin:"30px 0"},attrs:{type:"flex",justify:"center"}},[n("el-pagination",{attrs:{"page-size":t.page.pageSize,"current-page":t.page.currentPage,background:"",layout:"prev, pager, next",total:t.page.total},on:{"current-change":t.changePage}})],1)],1)},r=[],i=(n("8e6e"),n("ac6a"),n("456d"),n("bd86"));n("6b54");function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(n,!0).forEach(function(e){Object(i["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var o={data:function(){return{contentList:[],channels:[],formData:{status:5,channel_id:null,dataRange:null},page:{total:0,pageSize:10,currentPage:1}}},methods:{changePage:function(t){this.page.currentPage=t,this.getArticles(this.condition())},condition:function(){var t=this.formData,e=t.status,n=t.channel_id,a=t.dataRange,r={status:5===e?null:e,channel_id:n,begin_pubdate:a&&a.length?a[0]:null,end_pubdate:a&&a.length>1?a[1]:null};return r.page=this.page.currentPage,r.per_page=this.page.pageSize,r},refreshList:function(){this.page.currentPage=1,this.getArticles(this.condition())},delItem:function(t){var e=this;this.$confirm("您确定要删除此条内容么？","提示").then(function(){e.$http({method:"delete",url:"/articles/".concat(t.toString())}).then(function(){e.getArticles()})})},getChannels:function(){var t=this;this.$http({url:"/channels"}).then(function(e){t.channels=e.data.channels})},getArticles:function(t){var e=this;this.$http({url:"/articles",params:s({},t)}).then(function(t){e.contentList=t.data.results,e.page.total=t.data.total_count})}},filters:{statusText:function(t){switch(t){case 0:return"草稿";case 1:return"待审核";case 2:return"已发布";case 3:return"审核失败";case 4:return"已删除"}},statusType:function(t){switch(t){case 0:return"warning";case 1:return"info";case 2:return"success";case 3:return"danger";case 4:return"danger"}}},created:function(){this.getChannels(),this.getArticles()}},l=o,u=(n("cd89"),n("2877")),f=Object(u["a"])(l,a,r,!1,null,"54e1ad95",null);e["default"]=f.exports},"18c4":function(t,e,n){},3846:function(t,e,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"454f":function(t,e,n){n("46a7");var a=n("584a").Object;t.exports=function(t,e,n){return a.defineProperty(t,e,n)}},"456d":function(t,e,n){var a=n("4bf8"),r=n("0d58");n("5eda")("keys",function(){return function(t){return r(a(t))}})},"46a7":function(t,e,n){var a=n("63b6");a(a.S+a.F*!n("8e60"),"Object",{defineProperty:n("d9f6").f})},"5eda":function(t,e,n){var a=n("5ca1"),r=n("8378"),i=n("79e5");t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],c={};c[t]=e(n),a(a.S+a.F*i(function(){n(1)}),"Object",c)}},"6b54":function(t,e,n){"use strict";n("3846");var a=n("cb7c"),r=n("0bfb"),i=n("9e1e"),c="toString",s=/./[c],o=function(t){n("2aba")(RegExp.prototype,c,t,!0)};n("79e5")(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?o(function(){var t=a(this);return"/".concat(t.source,"/","flags"in t?t.flags:!i&&t instanceof RegExp?r.call(t):void 0)}):s.name!=c&&o(function(){return s.call(this)})},"85f2":function(t,e,n){t.exports=n("454f")},"8e6e":function(t,e,n){var a=n("5ca1"),r=n("990b"),i=n("6821"),c=n("11e9"),s=n("f1ae");a(a.S,"Object",{getOwnPropertyDescriptors:function(t){var e,n,a=i(t),o=c.f,l=r(a),u={},f=0;while(l.length>f)n=o(a,e=l[f++]),void 0!==n&&s(u,e,n);return u}})},9093:function(t,e,n){var a=n("ce10"),r=n("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return a(t,r)}},"990b":function(t,e,n){var a=n("9093"),r=n("2621"),i=n("cb7c"),c=n("7726").Reflect;t.exports=c&&c.ownKeys||function(t){var e=a.f(i(t)),n=r.f;return n?e.concat(n(t)):e}},ac6a:function(t,e,n){for(var a=n("cadf"),r=n("0d58"),i=n("2aba"),c=n("7726"),s=n("32e9"),o=n("84f2"),l=n("2b4c"),u=l("iterator"),f=l("toStringTag"),p=o.Array,g={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=r(g),h=0;h<d.length;h++){var b,v=d[h],m=g[v],y=c[v],S=y&&y.prototype;if(S&&(S[u]||s(S,u,p),S[f]||s(S,f,v),o[v]=p,m))for(b in a)S[b]||i(S,b,a[b],!0)}},bd86:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var a=n("85f2"),r=n.n(a);function i(t,e,n){return e in t?r()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},cd89:function(t,e,n){"use strict";var a=n("18c4"),r=n.n(a);r.a},f1ae:function(t,e,n){"use strict";var a=n("86cc"),r=n("4630");t.exports=function(t,e,n){e in t?a.f(t,e,r(0,n)):t[e]=n}}}]);
//# sourceMappingURL=chunk-56cfa870.8105f91d.js.map