(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7fcab4e4"],{"3e1f":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"card"},[a("slot-common",{staticStyle:{"font-size":"18px"},attrs:{slot:"header"},slot:"header"},[a("template",{slot:"title"},[e._v("个人信息")])],2),a("el-form",{ref:"myform",staticClass:"account-form",attrs:{model:e.formData,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"用户名称",prop:"name"}},[a("el-input",{staticClass:"input",model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"用户简介",prop:"intro"}},[a("el-input",{staticClass:"input",model:{value:e.formData.intro,callback:function(t){e.$set(e.formData,"intro",t)},expression:"formData.intro"}})],1),a("el-form-item",{attrs:{label:"用户邮箱",prop:"email"}},[a("el-input",{staticClass:"input",model:{value:e.formData.email,callback:function(t){e.$set(e.formData,"email",t)},expression:"formData.email"}})],1),a("el-form-item",{attrs:{label:"用户手机号"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{disabled:""},model:{value:e.formData.mobile,callback:function(t){e.$set(e.formData,"mobile",t)},expression:"formData.mobile"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.verifyUser}},[e._v("保存信息")])],1)],1),a("el-upload",{staticClass:"upload",attrs:{action:"","show-file-list":!1,"http-request":e.upImage}},[a("img",{attrs:{src:e.formData.photo?e.formData.photo:e.imgUrl}})])],1)},n=[],o=(a("96cf"),a("3b8d")),i=a("d132"),s={data:function(){return{imgUrl:a("8f20"),loading:!1,formData:{name:"",intro:"",photo:"",email:"",mobile:""},rules:{name:[{required:!0,message:"用户名不能为空"},{min:1,max:7,message:"用户名称必须控制在1到7个字符"}],intro:[{required:!0,message:"用户简介不能为空"}],email:[{required:!0,message:"邮箱不能为空"},{pattern:/^\w+((.\w+)|(-\w+))@[A-Za-z0-9]+((.|-)[A-Za-z0-9]+).[A-Za-z0-9]+$/,message:"邮箱格式不正确"}]}}},methods:{upImage:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,a=new FormData,a.append("photo",t.file),e.next=5,this.$http({url:"/user/photo",method:"patch",data:a});case 5:r=e.sent,this.formData.photo=r.data.photo,i["a"].$emit("updateUserInfoSuccess"),this.loading=!1;case 9:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),verifyUser:function(){var e=this;this.$refs.myform.validate(function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(a){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=4;break}return t.next=3,e.$http({url:"/user/profile",method:"patch",data:e.formData});case 3:e.$message({message:"保存成功",type:"提示"});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},getUserInfo:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http({url:"/user/profile"});case 2:t=e.sent,this.formData=t.data;case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},created:function(){this.getUserInfo()}},l=s,m=(a("d1aa"),a("2877")),u=Object(m["a"])(l,r,n,!1,null,"037ae6d3",null);t["default"]=u.exports},"8f20":function(e,t,a){e.exports=a.p+"img/404.38b07fb7.png"},d1aa:function(e,t,a){"use strict";var r=a("ef76"),n=a.n(r);n.a},ef76:function(e,t,a){}}]);
//# sourceMappingURL=chunk-7fcab4e4.ad7e4e9b.js.map