(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f7428180"],{"1e63":function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[a("slot-common",{staticStyle:{"font-size":"18px"},attrs:{slot:"header"},slot:"header"},[a("template",{slot:"title"},[t._v("发布内容")])],2),a("el-form",{ref:"myform",staticClass:"from-publish",attrs:{model:t.formData,rules:t.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{staticClass:"input",model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1),a("el-form-item",{attrs:{label:"内容",prop:"content"}},[a("el-input",{staticClass:"text",attrs:{type:"textarea",rows:6},model:{value:t.formData.content,callback:function(e){t.$set(t.formData,"content",e)},expression:"formData.content"}})],1),a("el-form-item",{attrs:{label:"封面",prop:"cover"}},[a("el-radio-group",{model:{value:t.formData.cover.type,callback:function(e){t.$set(t.formData.cover,"type",e)},expression:"formData.cover.type"}},[a("el-radio",{attrs:{label:1}},[t._v("单图")]),a("el-radio",{attrs:{label:3}},[t._v("三图")]),a("el-radio",{attrs:{label:0}},[t._v("无图")]),a("el-radio",{attrs:{label:-1}},[t._v("自动")])],1)],1),a("el-form-item",{attrs:{label:"频道",prop:"channel_id"}},[a("el-select",{model:{value:t.formData.channel_id,callback:function(e){t.$set(t.formData,"channel_id",e)},expression:"formData.channel_id"}},t._l(t.channels,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1),a("el-form-item",{staticStyle:{"margin-left":"41px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.publish(!1)}}},[t._v("发布")]),a("el-button",{on:{click:function(e){return t.publish(!0)}}},[t._v("存入草稿")])],1)],1)],1)},n=[],r={data:function(){return{channels:[],loading:!1,formData:{title:"",content:"",channel_id:null,cover:{type:0,images:[]}},rules:{title:[{required:!0,message:"标题内容不能为空"}],content:[{required:!0,message:"文章内容不能为空"}],channel_id:[{required:!0,message:"频道不能为空"}]}}},methods:{publish:function(t){var e=this;this.$refs.myform.validate(function(a){a&&e.$http({url:"/articles",method:"post",params:{draft:t},data:e.formData}).then(function(){e.$router.push("/home/articles")})})},getChannels:function(){var t=this;this.$http({url:"/channels"}).then(function(e){t.channels=e.data.channels})}},created:function(){this.getChannels()}},o=r,i=(a("3018"),a("2877")),s=Object(i["a"])(o,l,n,!1,null,"48c7526e",null);e["default"]=s.exports},3018:function(t,e,a){"use strict";var l=a("aa9e"),n=a.n(l);n.a},aa9e:function(t,e,a){}}]);
//# sourceMappingURL=chunk-f7428180.5015c083.js.map