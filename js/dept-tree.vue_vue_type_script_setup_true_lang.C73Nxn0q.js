import{d as e,r as a,d9 as l,I as d,aI as o,a as r,l as s,w as t,W as n,f as u,aO as i,Y as m}from"./index.BM8HYK7W.js";import{E as c}from"./el-card.JvKkyGLr.js";import{E as f}from"./el-tree.BOV7JSyl.js";import{_ as p}from"./search.D9QYmBQ9.js";import{b as h}from"./index.DAPmwIyK.js";const v=e({__name:"dept-tree",props:{modelValue:{type:[Number],default:void 0}},emits:["node-click"],setup(e,{emit:v}){const b=e,x=a(),_=a(f),j=a(),k=v,V=l(b,"modelValue",k);function w(e,a){return!e||-1!==a.label.indexOf(e)}function y(e){V.value=e.value,k("node-click")}return d((()=>{_.value.filter(j.value)}),{flush:"post"}),o((()=>{h().then((e=>{x.value=e.data}))})),(e,a)=>{const l=p,d=m,o=f,h=c;return r(),s(h,{shadow:"never"},{default:t((()=>[n(d,{modelValue:u(j),"onUpdate:modelValue":a[0]||(a[0]=e=>i(j)?j.value=e:null),placeholder:"部门名称",clearable:""},{prefix:t((()=>[n(l)])),_:1},8,["modelValue"]),n(o,{ref_key:"deptTreeRef",ref:_,class:"mt-2",data:u(x),props:{children:"children",label:"label",disabled:""},"expand-on-click-node":!1,"filter-node-method":w,"default-expand-all":"",onNodeClick:y},null,8,["data"])])),_:1})}}});export{v as _};
