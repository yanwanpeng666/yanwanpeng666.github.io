import{d5 as e,v as a,d6 as s,d7 as l,c as t,cE as o,r,J as i,u as d,ap as n,K as u,_ as c,d as v,c1 as f,d8 as p,b,y,d9 as m,e as h,f as g,w as z,m as k,T as w,i as C,ac as E,da as A,cG as R,D as L,ab as _,j as F,g as x,h as $,n as T,l as B,G as S,E as H,af as I,k as P,ae as q,cL as D,q as M}from"./index.Dv9sjPYC.js";const j=a({...s,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},resizable:Boolean,size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),G={...e,"resize-start":(e,a)=>e instanceof MouseEvent&&"number"==typeof a,resize:(e,a)=>e instanceof MouseEvent&&"number"==typeof a,"resize-end":(e,a)=>e instanceof MouseEvent&&"number"==typeof a};function O(e,a,s){const{width:c,height:v}=l(),f=t(()=>["ltr","rtl"].includes(e.direction)),p=t(()=>["ltr","ttb"].includes(e.direction)?1:-1),b=t(()=>f.value?c.value:v.value),y=t(()=>o(m.value+p.value*h.value,4,b.value)),m=r(0),h=r(0),g=r(!1),z=r(!1);let k=[],w=[];i(()=>[e.size,e.resizable],()=>{z.value=!1,m.value=0,h.value=0,E()});const C=e=>{const{pageX:a,pageY:l}=e,t=a-k[0],o=l-k[1];h.value=f.value?t:o,s("resize",e,y.value)},E=e=>{g.value&&(k=[],m.value=y.value,h.value=0,g.value=!1,w.forEach(e=>null==e?void 0:e()),w=[],e&&s("resize-end",e,m.value))},A=d(a,"mousedown",l=>{e.resizable&&(z.value||(m.value=(()=>{var e;const s=null==(e=a.value)?void 0:e.closest('[aria-modal="true"]');return s?f.value?s.offsetWidth:s.offsetHeight:100})(),z.value=!0),k=[l.pageX,l.pageY],g.value=!0,s("resize-start",l,m.value),w.push(d(window,"mouseup",E),d(window,"mousemove",C)))});return n(()=>{A(),E()}),{size:t(()=>z.value?`${y.value}px`:u(e.size)),isResizing:g,isHorizontal:f}}const X=v({name:"ElDrawer",inheritAttrs:!1});const Y=M(c(v({...X,props:j,emits:G,setup(e,{expose:a,emit:s}){const l=e,o=f();p({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},t(()=>!!o.title));const i=r(),d=r(),n=r(),u=b("drawer"),{t:c}=y(),{afterEnter:v,afterLeave:M,beforeLeave:j,visible:G,rendered:X,titleId:Y,bodyId:J,zIndex:K,onModalClick:N,onOpenAutoFocus:U,onCloseAutoFocus:W,onFocusoutPrevented:Q,onCloseRequested:V,handleClose:Z}=m(l,i),{isHorizontal:ee,size:ae,isResizing:se}=O(l,n,s),le=t(()=>l.modalPenetrable&&!l.modal);return a({handleClose:Z,afterEnter:v,afterLeave:M}),(e,a)=>(g(),h(C(D),{to:e.appendTo,disabled:"body"===e.appendTo&&!e.appendToBody},{default:z(()=>[k(w,{name:C(u).b("fade"),onAfterEnter:C(v),onAfterLeave:C(M),onBeforeLeave:C(j),persisted:""},{default:z(()=>{var a;return[E(k(C(A),{mask:e.modal,"overlay-class":[C(u).is("drawer"),null!=(a=e.modalClass)?a:"",`${C(u).namespace.value}-modal-drawer`,C(u).is("penetrable",C(le))],"z-index":C(K),onClick:C(N)},{default:z(()=>[k(C(R),{loop:"",trapped:C(G),"focus-trap-el":i.value,"focus-start-el":d.value,onFocusAfterTrapped:C(U),onFocusAfterReleased:C(W),onFocusoutPrevented:C(Q),onReleaseRequested:C(V)},{default:z(()=>[L("div",_({ref_key:"drawerRef",ref:i,"aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:C(Y),"aria-describedby":C(J)},e.$attrs,{class:[C(u).b(),e.direction,C(G)&&"open",C(u).is("dragging",C(se))],style:{[C(ee)?"width":"height"]:C(ae)},role:"dialog",onClick:F(()=>{},["stop"])}),[L("span",{ref_key:"focusStartRef",ref:d,class:T(C(u).e("sr-focus")),tabindex:"-1"},null,2),e.withHeader?(g(),x("header",{key:0,class:T([C(u).e("header"),e.headerClass])},[e.$slots.title?B(e.$slots,"title",{key:1},()=>[$(" DEPRECATED SLOT ")]):B(e.$slots,"header",{key:0,close:C(Z),titleId:C(Y),titleClass:C(u).e("title")},()=>[L("span",{id:C(Y),role:"heading","aria-level":e.headerAriaLevel,class:T(C(u).e("title"))},S(e.title),11,["id","aria-level"])]),e.showClose?(g(),x("button",{key:2,"aria-label":C(c)("el.drawer.close"),class:T(C(u).e("close-btn")),type:"button",onClick:C(Z)},[k(C(H),{class:T(C(u).e("close"))},{default:z(()=>[k(C(I))]),_:1},8,["class"])],10,["aria-label","onClick"])):$("v-if",!0)],2)):$("v-if",!0),C(X)?(g(),x("div",{key:1,id:C(J),class:T([C(u).e("body"),e.bodyClass])},[B(e.$slots,"default")],10,["id"])):$("v-if",!0),e.$slots.footer?(g(),x("div",{key:2,class:T([C(u).e("footer"),e.footerClass])},[B(e.$slots,"footer")],2)):$("v-if",!0),e.resizable?(g(),x("div",{key:3,ref_key:"draggerRef",ref:n,style:P({zIndex:C(K)}),class:T(C(u).e("dragger"))},null,6)):$("v-if",!0)],16,["aria-label","aria-labelledby","aria-describedby","onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[q,C(G)]])]}),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}}),[["__file","drawer.vue"]]));export{Y as E};
