import{v as e,b as a,bi as t,i,g as n,U as l,bj as c,D as s,a$ as o,G as u,bk as d,d as v,M as r,N as p,u as f,P as m,O as b,z as g,r as h,A as y,y as k,a3 as x,o as I,a as _,c as w,k as V,f as S,n as T,V as C,l as B,w as E,m as A,E as N,X as j,t as z,W as P,bl as X,e as Y,B as $,aa as K,_ as W,S as q,bm as F,ai as H,q as R,bn as D,aw as G,au as J,J as L,K as M,$ as O,ax as U}from"./index.BM8HYK7W.js";import{E as Z,a as Q,b as ee}from"./el-dropdown-item.DG-rbemN.js";import"./el-popper.DARfmJxr.js";import"./el-scrollbar.mIbHh7R4.js";import{_ as ae}from"./index.DtFlLSEI.js";const te=(a,t)=>{if(!e||!a||!t)return!1;const i=a.getBoundingClientRect();let n;return n=t instanceof Element?t.getBoundingClientRect():{top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},i.top<n.bottom&&i.bottom>n.top&&i.right>n.left&&i.left<n.right},ie=e=>{let a,t;return"touchend"===e.type?(t=e.changedTouches[0].clientY,a=e.changedTouches[0].clientX):e.type.startsWith("touch")?(t=e.touches[0].clientY,a=e.touches[0].clientX):(t=e.clientY,a=e.clientX),{clientX:a,clientY:t}},ne=a({modelValue:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},size:{type:String,validator:t},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},inactiveActionIcon:{type:i},activeActionIcon:{type:i},activeIcon:{type:i},inactiveIcon:{type:i},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:n(Function)},id:String,tabindex:{type:[String,Number]},label:{type:String,default:void 0}}),le={[l]:e=>c(e)||s(e)||o(e),[u]:e=>c(e)||s(e)||o(e),[d]:e=>c(e)||s(e)||o(e)},ce=["onClick"],se=["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"],oe=["aria-hidden"],ue=["aria-hidden"],de=["aria-hidden"],ve="ElSwitch",re=v({name:ve});const pe=R(W(v({...re,props:ne,emits:le,setup(e,{expose:a,emit:t}){const i=e,{formItem:n}=r(),s=p(),o=f("switch"),{inputId:v}=m(i,{formItemContext:n}),W=b(g((()=>i.loading))),R=h(!1!==i.modelValue),D=h(),G=h(),J=g((()=>[o.b(),o.m(s.value),o.is("disabled",W.value),o.is("checked",Z.value)])),L=g((()=>[o.e("label"),o.em("label","left"),o.is("active",!Z.value)])),M=g((()=>[o.e("label"),o.em("label","right"),o.is("active",Z.value)])),O=g((()=>({width:y(i.width)})));k((()=>i.modelValue),(()=>{R.value=!0}));const U=g((()=>!!R.value&&i.modelValue)),Z=g((()=>U.value===i.activeValue));[i.activeValue,i.inactiveValue].includes(U.value)||(t(l,i.inactiveValue),t(u,i.inactiveValue),t(d,i.inactiveValue)),k(Z,(e=>{var a;D.value.checked=e,i.validateEvent&&(null==(a=null==n?void 0:n.validate)||a.call(n,"change").catch((e=>x())))}));const Q=()=>{const e=Z.value?i.inactiveValue:i.activeValue;t(l,e),t(u,e),t(d,e),q((()=>{D.value.checked=Z.value}))},ee=()=>{if(W.value)return;const{beforeChange:e}=i;if(!e)return void Q();const a=e();[F(a),c(a)].includes(!0)||H(ve,"beforeChange must return type `Promise<boolean>` or `boolean`"),F(a)?a.then((e=>{e&&Q()})).catch((e=>{})):a&&Q()};return I((()=>{D.value.checked=Z.value})),a({focus:()=>{var e,a;null==(a=null==(e=D.value)?void 0:e.focus)||a.call(e)},checked:Z}),(e,a)=>(_(),w("div",{class:T(S(J)),onClick:K(ee,["prevent"])},[V("input",{id:S(v),ref_key:"input",ref:D,class:T(S(o).e("input")),type:"checkbox",role:"switch","aria-checked":S(Z),"aria-disabled":S(W),"aria-label":e.label,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:S(W),tabindex:e.tabindex,onChange:Q,onKeydown:C(ee,["enter"])},null,42,se),e.inlinePrompt||!e.inactiveIcon&&!e.inactiveText?j("v-if",!0):(_(),w("span",{key:0,class:T(S(L))},[e.inactiveIcon?(_(),B(S(N),{key:0},{default:E((()=>[(_(),B(A(e.inactiveIcon)))])),_:1})):j("v-if",!0),!e.inactiveIcon&&e.inactiveText?(_(),w("span",{key:1,"aria-hidden":S(Z)},z(e.inactiveText),9,oe)):j("v-if",!0)],2)),V("span",{ref_key:"core",ref:G,class:T(S(o).e("core")),style:$(S(O))},[e.inlinePrompt?(_(),w("div",{key:0,class:T(S(o).e("inner"))},[e.activeIcon||e.inactiveIcon?(_(),B(S(N),{key:0,class:T(S(o).is("icon"))},{default:E((()=>[(_(),B(A(S(Z)?e.activeIcon:e.inactiveIcon)))])),_:1},8,["class"])):e.activeText||e.inactiveText?(_(),w("span",{key:1,class:T(S(o).is("text")),"aria-hidden":!S(Z)},z(S(Z)?e.activeText:e.inactiveText),11,ue)):j("v-if",!0)],2)):j("v-if",!0),V("div",{class:T(S(o).e("action"))},[e.loading?(_(),B(S(N),{key:0,class:T(S(o).is("loading"))},{default:E((()=>[P(S(X))])),_:1},8,["class"])):S(Z)?Y(e.$slots,"active-action",{key:1},(()=>[e.activeActionIcon?(_(),B(S(N),{key:0},{default:E((()=>[(_(),B(A(e.activeActionIcon)))])),_:1})):j("v-if",!0)])):S(Z)?j("v-if",!0):Y(e.$slots,"inactive-action",{key:2},(()=>[e.inactiveActionIcon?(_(),B(S(N),{key:0},{default:E((()=>[(_(),B(A(e.inactiveActionIcon)))])),_:1})):j("v-if",!0)]))],2)],6),e.inlinePrompt||!e.activeIcon&&!e.activeText?j("v-if",!0):(_(),w("span",{key:1,class:T(S(M))},[e.activeIcon?(_(),B(S(N),{key:0},{default:E((()=>[(_(),B(A(e.activeIcon)))])),_:1})):j("v-if",!0),!e.activeIcon&&e.activeText?(_(),w("span",{key:1,"aria-hidden":!S(Z)},z(e.activeText),9,de)):j("v-if",!0)],2))],10,ce))}}),[["__file","switch.vue"]])),fe=v({__name:"index",props:{size:{type:String,required:!1}},setup(e){const a=[{label:"中文",value:D.ZH_CN},{label:"English",value:D.EN}],t=G(),{locale:i,t:n}=J();function l(e){i.value=e,t.changeLanguage(e),U.success(n("langSelect.message.success"))}return(i,n)=>{const c=ae,s=Z,o=Q,u=ee;return _(),B(u,{trigger:"click",onCommand:l},{dropdown:E((()=>[P(o,null,{default:E((()=>[(_(),w(L,null,M(a,(e=>P(s,{key:e.value,disabled:S(t).language===e.value,command:e.value},{default:E((()=>[O(z(e.label),1)])),_:2},1032,["disabled","command"]))),64))])),_:1})])),default:E((()=>[V("div",null,[P(c,{"icon-class":"language",size:e.size},null,8,["size"])])])),_:1})}}});export{pe as E,fe as _,ie as g,te as i};
