import{d as e,r as l,S as a,ag as o,I as t,o as i,ae as r,h as s,B as n,l as p,w as d,g as m,e as u,W as c,Q as f,R as y,X as g,V as h,f as j,aj as x,p as b,i as v,D as k}from"./index.D_QSJYsl.js";import{v as _}from"./el-loading._KqTsM-B.js";import{_ as w}from"./index.D8PK28SR.js";import{E as C,a as E}from"./el-table-column.B0xSElgG.js";import"./el-checkbox.CEBwfQau.js";import"./el-tooltip.l0sNRNKZ.js";import"./el-popper.DKqv0zrb.js";import"./el-scrollbar.BoGuQ_YI.js";/* empty css               */import{E as V}from"./el-card.By4j4syX.js";import{E as N,a as T}from"./el-form-item.CqZkxdvL.js";import{E as U}from"./el-button.DHJ0WrCN.js";import{E as z,a as S}from"./el-select.DC1h_FUz.js";import{E as R}from"./el-input.DoYwyLAs.js";import{G as D,Q as I}from"./index.DuBDy2O_.js";import{_ as P}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./el-pagination.5XY2b5kn.js";import"./isEqual.CxON6d9P.js";import"./_Uint8Array.BXuv5HTU.js";import"./index.DHTQwj-k.js";import"./index.DxtlaFw4.js";import"./use-form-item.CIyZU-1C.js";import"./_baseIteratee.BdihAaWh.js";import"./debounce.CPg49gac.js";import"./index.DaF98UHt.js";import"./index.CNdeHcq7.js";import"./castArray.BRlXenMr.js";import"./index.CS7ldtbZ.js";import"./token.DWNpOE8r.js";import"./strings.BaZxU9je.js";import"./index.Ddvjems4.js";import"./scroll.DbNYepUn.js";import"./index.DtZzBez1.js";const Q={class:"app-container"},q={class:"search-bar"},A={class:"flex table-container"},B=["onClick"],K={class:"ellipsis"},W={class:"flex"},F=P(e({name:"Codegen",__name:"index",setup(e){const P=l(N),F=a({pageNum:1,pageSize:10}),X=l(!1),G=l(0),H=l([]),O=l(0),Z=a({options:[{name:"首页",id:"1"}]}),J=l({fieldConfigs:[]}),L=o();function M(){X.value=!0,D.getTablePage(F).then((e=>{H.value=e.list,O.value=e.total})).finally((()=>{X.value=!1}))}function Y(){P.value.resetFields(),F.pageNum=1,M()}async function $(e){L.push({name:"markdown"})}return t((()=>J.value.fieldConfigs),(e=>{e.forEach((e=>{e.fieldType&&e.fieldType.includes("Date")&&1===e.isShowInQuery&&(e.queryType=I.BETWEEN.value)}))}),{deep:!0,immediate:!0}),i((()=>{M()})),(e,l)=>{const a=R,o=T,t=S,i=z,D=r("Search"),I=U,J=r("Refresh"),L=N,ee=r("Plus"),le=r("Edit"),ae=r("Delete"),oe=V,te=C,ie=E,re=w,se=_;return u(),s("div",Q,[n("div",q,[p(L,{ref_key:"queryFormRef",ref:P,model:m(F),inline:!0},{default:d((()=>[p(o,{prop:"keywords",label:"标题"},{default:d((()=>[p(a,{modelValue:m(F).keywords,"onUpdate:modelValue":l[0]||(l[0]=e=>m(F).keywords=e),placeholder:"请输入标题",clearable:"",style:{width:"180px"},onKeyup:c(M,["enter"])},null,8,["modelValue"])])),_:1}),p(o,{prop:"keywords",label:"分类"},{default:d((()=>[p(i,{onKeyup:c(M,["enter"]),modelValue:m(F).keywords,"onUpdate:modelValue":l[1]||(l[1]=e=>m(F).keywords=e),style:{width:"180px"},placeholder:"请选择分类"},{default:d((()=>[(u(!0),s(f,null,y(m(Z).options,(e=>(u(),j(t,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),p(o,{prop:"keywords",label:"作者"},{default:d((()=>[p(a,{style:{width:"180px"},modelValue:m(F).keywords,"onUpdate:modelValue":l[2]||(l[2]=e=>m(F).keywords=e),placeholder:"请输入作者",clearable:"",onKeyup:c(M,["enter"])},null,8,["modelValue"])])),_:1}),p(o,null,{default:d((()=>[p(I,{type:"primary",onClick:M},{icon:d((()=>[p(D)])),default:d((()=>[l[8]||(l[8]=g(" 搜索 "))])),_:1}),p(I,{onClick:Y},{icon:d((()=>[p(J)])),default:d((()=>[l[9]||(l[9]=g(" 重置 "))])),_:1})])),_:1})])),_:1},8,["model"])]),n("div",A,[p(oe,{shadow:"never",style:{width:"380px","margin-right":"15px"}},{default:d((()=>[n("div",null,[p(I,{type:"primary",onClick:l[3]||(l[3]=e=>$()),style:{"margin-bottom":"20px"}},{icon:d((()=>[p(ee)])),default:d((()=>[l[10]||(l[10]=g(" 新增分类 "))])),_:1})]),n("div",null,[(u(!0),s(f,null,y(m(H),((e,l)=>(u(),s("div",{key:l,class:v([m(G)==l?"active":"","flex flex-x-between check_item"]),onClick:e=>function(e){G.value=e}(l)},[n("div",K,k(e.tableComment),1),n("div",W,[p(le,{style:{width:"20px",height:"20px",color:"var(--el-color-primary)",cursor:"pointer"}}),p(ae,{style:{width:"20px",height:"20px","margin-left":"15px",color:"var(--el-color-danger)",cursor:"pointer"}})])],10,B)))),128))])])),_:1}),p(oe,{shadow:"never",class:"flex-1"},{default:d((()=>[n("div",null,[p(I,{type:"primary",onClick:l[4]||(l[4]=e=>$()),style:{"margin-bottom":"20px"}},{icon:d((()=>[p(ee)])),default:d((()=>[l[11]||(l[11]=g(" 新增 "))])),_:1})]),h((u(),j(ie,{ref:"dataTableRef",data:m(H),"highlight-current-row":"",border:""},{default:d((()=>[p(te,{label:"标题",prop:"tableName","min-width":"100"}),p(te,{label:"作者",prop:"tableComment",width:"150"}),p(te,{label:"分类",align:"center",prop:"engine"}),p(te,{label:"创建时间",align:"center",prop:"createTime"}),p(te,{fixed:"right",label:"操作",width:"160"},{default:d((e=>[p(I,{type:"primary",size:"small",link:"",onClick:l=>$(e.row.tableName)},{icon:d((()=>[p(le)])),default:d((()=>[l[12]||(l[12]=g(" 编辑 "))])),_:2},1032,["onClick"]),p(I,{type:"danger",size:"small",link:""},{icon:d((()=>[p(ae)])),default:d((()=>[l[13]||(l[13]=g(" 删除 "))])),_:1})])),_:1})])),_:1},8,["data"])),[[se,m(X)]]),m(O)>0?(u(),j(re,{key:0,total:m(O),"onUpdate:total":l[5]||(l[5]=e=>x(O)?O.value=e:null),page:m(F).pageNum,"onUpdate:page":l[6]||(l[6]=e=>m(F).pageNum=e),limit:m(F).pageSize,"onUpdate:limit":l[7]||(l[7]=e=>m(F).pageSize=e),onPagination:M},null,8,["total","page","limit"])):b("",!0)])),_:1})])])}}}),[["__scopeId","data-v-5b46fc25"]]);export{F as default};
