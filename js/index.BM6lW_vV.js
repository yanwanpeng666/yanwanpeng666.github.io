import{s as e,r as o,I as t,a,aL as n,F as l,U as u}from"./index.DbrnSrZI.js";function i(u,{beforeFocus:i,afterFocus:s,beforeBlur:r,afterBlur:c}={}){const d=l(),{emit:v}=d,m=e(),p=o(!1),f=e=>{!!n(i)&&i(e)||p.value||(p.value=!0,v("focus",e),null==s||s())},h=e=>{var o;!!n(r)&&r(e)||e.relatedTarget&&(null==(o=m.value)?void 0:o.contains(e.relatedTarget))||(p.value=!1,v("blur",e),null==c||c())};return t(m,(e=>{e&&e.setAttribute("tabindex","-1")})),a(m,"focus",f,!0),a(m,"blur",h,!0),a(m,"click",(()=>{var e,o;(null==(e=m.value)?void 0:e.contains(document.activeElement))&&m.value!==document.activeElement||null==(o=u.value)||o.focus()}),!0),{isFocused:p,wrapperRef:m,handleFocus:f,handleBlur:h}}function s({afterComposition:e,emit:t}){const a=o(!1),n=e=>{var o;null==t||t("compositionupdate",e);const n=null==(o=e.target)?void 0:o.value,l=n[n.length-1]||"";a.value=!(e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e))(l)},l=o=>{null==t||t("compositionend",o),a.value&&(a.value=!1,u((()=>e(o))))};return{isComposing:a,handleComposition:e=>{"compositionend"===e.type?l(e):n(e)},handleCompositionStart:e=>{null==t||t("compositionstart",e),a.value=!0},handleCompositionUpdate:n,handleCompositionEnd:l}}export{s as a,i as u};
