import{d as e,r as l,S as a,ag as o,I as t,o as i,ae as r,e as s,h as n,B as p,l as d,w as m,g as u,W as c,Q as f,R as y,f as g,X as j,i as h,D as x,V as b,aj as v,p as _}from"./index.DLIlyPl-.js";import{v as k}from"./el-loading.DZXfyt6L.js";import{_ as w}from"./index.BcNHAfXR.js";import{E as C,a as E}from"./el-table-column.CJTlZ12a.js";import"./el-checkbox.BwEyhd_1.js";import"./el-tooltip.l0sNRNKZ.js";import"./el-popper.olt6PlPs.js";import"./el-scrollbar.GW-zKMLh.js";/* empty css               */import{E as V}from"./el-card.CYLP9eTM.js";import{E as U,a as N}from"./el-form-item.DwevlXNj.js";import{E as S}from"./el-button.DTalRruu.js";import{E as T,a as z}from"./el-select.fgasrh28.js";import{E as I}from"./el-input.Bj33w_iH.js";import{Q as R,G as P}from"./index.Cb_Su5hA.js";import{_ as Q}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./el-pagination.DnFw4FNL.js";import"./isEqual.ChejXE8p.js";import"./_Uint8Array.5aBvYJY-.js";import"./index.Dts9yEB5.js";import"./index.DlUwyd6C.js";import"./event.CIKxL71l.js";import"./_baseIteratee.JklbT1Q0.js";import"./debounce.yEuX16qZ.js";import"./index.BwgKU4IB.js";import"./use-form-item.h287A-2q.js";import"./index.CncfvwnI.js";import"./castArray.eBkREExW.js";import"./index.BGJGFJ7Z.js";import"./token.DWNpOE8r.js";import"./strings.Bvkkt5sc.js";import"./index.DLWgb7nz.js";import"./scroll.D4pjuQ4g.js";import"./index.yAoBMq8N.js";const q={class:"app-container"},A={class:"search-bar"},B={class:"flex table-container"},D=["onClick"],K={class:"ellipsis"},W={class:"flex"},F=Q(e({name:"Codegen",__name:"index",setup(e){const Q=l(U),F=a({pageNum:1,pageSize:10}),X=l(!1),G=l(0),O=l([]),Y=l(0),Z=a({options:[{name:"首页",id:"1"}]}),$=l({fieldConfigs:[]}),H=o();function J(){X.value=!0,P.getTablePage(F).then((e=>{O.value=e.list,Y.value=e.total})).finally((()=>{X.value=!1}))}function L(){Q.value.resetFields(),F.pageNum=1,J()}async function M(e){H.push({name:"markdown"})}return t((()=>$.value.fieldConfigs),(e=>{e.forEach((e=>{e.fieldType&&e.fieldType.includes("Date")&&1===e.isShowInQuery&&(e.queryType=R.BETWEEN.value)}))}),{deep:!0,immediate:!0}),i((()=>{J()})),(e,l)=>{const a=I,o=N,t=T,i=z,R=r("Search"),P=S,$=r("Refresh"),H=U,ee=r("Plus"),le=r("Edit"),ae=r("Delete"),oe=V,te=C,ie=E,re=w,se=k;return s(),n("div",q,[p("div",A,[d(H,{ref_key:"queryFormRef",ref:Q,model:u(F),inline:!0},{default:m((()=>[d(o,{prop:"keywords",label:"标题"},{default:m((()=>[d(a,{modelValue:u(F).keywords,"onUpdate:modelValue":l[0]||(l[0]=e=>u(F).keywords=e),placeholder:"请输入标题",clearable:"",style:{width:"180px"},onKeyup:c(J,["enter"])},null,8,["modelValue"])])),_:1}),d(o,{prop:"keywords",label:"分类"},{default:m((()=>[d(i,{onKeyup:c(J,["enter"]),modelValue:u(F).keywords,"onUpdate:modelValue":l[1]||(l[1]=e=>u(F).keywords=e),style:{width:"180px"},placeholder:"请选择分类"},{default:m((()=>[(s(!0),n(f,null,y(u(Z).options,(e=>(s(),g(t,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),d(o,{prop:"keywords",label:"作者"},{default:m((()=>[d(a,{style:{width:"180px"},modelValue:u(F).keywords,"onUpdate:modelValue":l[2]||(l[2]=e=>u(F).keywords=e),placeholder:"请输入作者",clearable:"",onKeyup:c(J,["enter"])},null,8,["modelValue"])])),_:1}),d(o,null,{default:m((()=>[d(P,{type:"primary",onClick:J},{icon:m((()=>[d(R)])),default:m((()=>[l[8]||(l[8]=j(" 搜索 "))])),_:1}),d(P,{onClick:L},{icon:m((()=>[d($)])),default:m((()=>[l[9]||(l[9]=j(" 重置 "))])),_:1})])),_:1})])),_:1},8,["model"])]),p("div",B,[d(oe,{shadow:"never",style:{width:"380px","margin-right":"15px"}},{default:m((()=>[p("div",null,[d(P,{type:"primary",onClick:l[3]||(l[3]=e=>M()),style:{"margin-bottom":"20px"}},{icon:m((()=>[d(ee)])),default:m((()=>[l[10]||(l[10]=j(" 新增分类 "))])),_:1})]),p("div",null,[(s(!0),n(f,null,y(u(O),((e,l)=>(s(),n("div",{key:l,class:h([u(G)==l?"active":"","flex flex-x-between check_item"]),onClick:e=>function(e){G.value=e}(l)},[p("div",K,x(e.tableComment),1),p("div",W,[d(le,{style:{width:"20px",height:"20px",color:"var(--el-color-primary)",cursor:"pointer"}}),d(ae,{style:{width:"20px",height:"20px","margin-left":"15px",color:"var(--el-color-danger)",cursor:"pointer"}})])],10,D)))),128))])])),_:1}),d(oe,{shadow:"never",class:"flex-1"},{default:m((()=>[p("div",null,[d(P,{type:"primary",onClick:l[4]||(l[4]=e=>M()),style:{"margin-bottom":"20px"}},{icon:m((()=>[d(ee)])),default:m((()=>[l[11]||(l[11]=j(" 新增 "))])),_:1})]),b((s(),g(ie,{ref:"dataTableRef",data:u(O),"highlight-current-row":"",border:""},{default:m((()=>[d(te,{label:"标题",prop:"tableName","min-width":"100"}),d(te,{label:"作者",prop:"tableComment",width:"150"}),d(te,{label:"分类",align:"center",prop:"engine"}),d(te,{label:"创建时间",align:"center",prop:"createTime"}),d(te,{fixed:"right",label:"操作",width:"160"},{default:m((e=>[d(P,{type:"primary",size:"small",link:"",onClick:l=>M(e.row.tableName)},{icon:m((()=>[d(le)])),default:m((()=>[l[12]||(l[12]=j(" 编辑 "))])),_:2},1032,["onClick"]),d(P,{type:"danger",size:"small",link:""},{icon:m((()=>[d(ae)])),default:m((()=>[l[13]||(l[13]=j(" 删除 "))])),_:1})])),_:1})])),_:1},8,["data"])),[[se,u(X)]]),u(Y)>0?(s(),g(re,{key:0,total:u(Y),"onUpdate:total":l[5]||(l[5]=e=>v(Y)?Y.value=e:null),page:u(F).pageNum,"onUpdate:page":l[6]||(l[6]=e=>u(F).pageNum=e),limit:u(F).pageSize,"onUpdate:limit":l[7]||(l[7]=e=>u(F).pageSize=e),onPagination:J},null,8,["total","page","limit"])):_("",!0)])),_:1})])])}}}),[["__scopeId","data-v-5b46fc25"]]);export{F as default};
