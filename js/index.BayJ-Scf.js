import{d as e,r as l,S as a,ag as o,I as t,o as i,ae as r,e as s,h as n,B as p,l as d,w as m,g as u,W as c,Q as f,R as y,f as g,X as h,i as j,D as x,V as b,aj as v,p as k}from"./index.DbrnSrZI.js";import{v as _}from"./el-loading.B_oOapSo.js";import{_ as w}from"./index.Cp4wwUaU.js";import{E as C,a as E}from"./el-table-column.Cw_NOZpk.js";import"./el-checkbox.FSrb1WEI.js";import"./el-tooltip.l0sNRNKZ.js";import"./el-popper.DLMOq-1a.js";import"./el-scrollbar.CwVL2rLI.js";/* empty css               */import{E as V}from"./el-card.RdyK1xBp.js";import{E as N,a as T}from"./el-form-item.BTr3-TRk.js";import{E as U}from"./el-button.DrJ_PJnF.js";import{E as z,a as S}from"./el-select.22R5wSkH.js";import{E as R}from"./el-input.C-yw4uhh.js";import{Q as D,G as I}from"./index.Bo7NXBJt.js";import{_ as P}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./el-pagination.GZ6motZ6.js";import"./isEqual.DUtgchmh.js";import"./_Uint8Array.DjoPdKeJ.js";import"./index.BkTLCU6H.js";import"./index.eiMzUoAK.js";import"./use-form-item.Bd6zpZ0e.js";import"./_baseIteratee.D964BnCd.js";import"./debounce.BIbhvjN4.js";import"./index.OZ_xXgzN.js";import"./index.4teDAmMz.js";import"./castArray.DM069tCu.js";import"./index.B3L11UJq.js";import"./token.DWNpOE8r.js";import"./strings.zUTo_M5-.js";import"./index.BM6lW_vV.js";import"./scroll.CM76KvlP.js";import"./index.D8bgvv7B.js";const Q={class:"app-container"},q={class:"search-bar"},A={class:"flex table-container"},B=["onClick"],K={class:"ellipsis"},W={class:"flex"},F=P(e({name:"Codegen",__name:"index",setup(e){const P=l(N),F=a({pageNum:1,pageSize:10}),X=l(!1),G=l(0),H=l([]),O=l(0),Z=a({options:[{name:"首页",id:"1"}]}),J=l({fieldConfigs:[]}),L=o();function M(){X.value=!0,I.getTablePage(F).then((e=>{H.value=e.list,O.value=e.total})).finally((()=>{X.value=!1}))}function Y(){P.value.resetFields(),F.pageNum=1,M()}async function $(e){L.push({name:"markdown"})}return t((()=>J.value.fieldConfigs),(e=>{e.forEach((e=>{e.fieldType&&e.fieldType.includes("Date")&&1===e.isShowInQuery&&(e.queryType=D.BETWEEN.value)}))}),{deep:!0,immediate:!0}),i((()=>{M()})),(e,l)=>{const a=R,o=T,t=z,i=S,D=r("Search"),I=U,J=r("Refresh"),L=N,ee=r("Plus"),le=r("Edit"),ae=r("Delete"),oe=V,te=C,ie=E,re=w,se=_;return s(),n("div",Q,[p("div",q,[d(L,{ref_key:"queryFormRef",ref:P,model:u(F),inline:!0},{default:m((()=>[d(o,{prop:"keywords",label:"标题"},{default:m((()=>[d(a,{modelValue:u(F).keywords,"onUpdate:modelValue":l[0]||(l[0]=e=>u(F).keywords=e),placeholder:"请输入标题",clearable:"",style:{width:"180px"},onKeyup:c(M,["enter"])},null,8,["modelValue"])])),_:1}),d(o,{prop:"keywords",label:"分类"},{default:m((()=>[d(i,{onKeyup:c(M,["enter"]),modelValue:u(F).keywords,"onUpdate:modelValue":l[1]||(l[1]=e=>u(F).keywords=e),style:{width:"180px"},placeholder:"请选择分类"},{default:m((()=>[(s(!0),n(f,null,y(u(Z).options,(e=>(s(),g(t,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),d(o,{prop:"keywords",label:"作者"},{default:m((()=>[d(a,{style:{width:"180px"},modelValue:u(F).keywords,"onUpdate:modelValue":l[2]||(l[2]=e=>u(F).keywords=e),placeholder:"请输入作者",clearable:"",onKeyup:c(M,["enter"])},null,8,["modelValue"])])),_:1}),d(o,null,{default:m((()=>[d(I,{type:"primary",onClick:M},{icon:m((()=>[d(D)])),default:m((()=>[l[8]||(l[8]=h(" 搜索 "))])),_:1}),d(I,{onClick:Y},{icon:m((()=>[d(J)])),default:m((()=>[l[9]||(l[9]=h(" 重置 "))])),_:1})])),_:1})])),_:1},8,["model"])]),p("div",A,[d(oe,{shadow:"never",style:{width:"380px","margin-right":"15px"}},{default:m((()=>[p("div",null,[d(I,{type:"primary",onClick:l[3]||(l[3]=e=>$()),style:{"margin-bottom":"20px"}},{icon:m((()=>[d(ee)])),default:m((()=>[l[10]||(l[10]=h(" 新增分类 "))])),_:1})]),p("div",null,[(s(!0),n(f,null,y(u(H),((e,l)=>(s(),n("div",{key:l,class:j([u(G)==l?"active":"","flex flex-x-between check_item"]),onClick:e=>function(e){G.value=e}(l)},[p("div",K,x(e.tableComment),1),p("div",W,[d(le,{style:{width:"20px",height:"20px",color:"var(--el-color-primary)",cursor:"pointer"}}),d(ae,{style:{width:"20px",height:"20px","margin-left":"15px",color:"var(--el-color-danger)",cursor:"pointer"}})])],10,B)))),128))])])),_:1}),d(oe,{shadow:"never",class:"flex-1"},{default:m((()=>[p("div",null,[d(I,{type:"primary",onClick:l[4]||(l[4]=e=>$()),style:{"margin-bottom":"20px"}},{icon:m((()=>[d(ee)])),default:m((()=>[l[11]||(l[11]=h(" 新增 "))])),_:1})]),b((s(),g(ie,{ref:"dataTableRef",data:u(H),"highlight-current-row":"",border:""},{default:m((()=>[d(te,{label:"标题",prop:"tableName","min-width":"100"}),d(te,{label:"作者",prop:"tableComment",width:"150"}),d(te,{label:"分类",align:"center",prop:"engine"}),d(te,{label:"创建时间",align:"center",prop:"createTime"}),d(te,{fixed:"right",label:"操作",width:"160"},{default:m((e=>[d(I,{type:"primary",size:"small",link:"",onClick:l=>$(e.row.tableName)},{icon:m((()=>[d(le)])),default:m((()=>[l[12]||(l[12]=h(" 编辑 "))])),_:2},1032,["onClick"]),d(I,{type:"danger",size:"small",link:""},{icon:m((()=>[d(ae)])),default:m((()=>[l[13]||(l[13]=h(" 删除 "))])),_:1})])),_:1})])),_:1},8,["data"])),[[se,u(X)]]),u(O)>0?(s(),g(re,{key:0,total:u(O),"onUpdate:total":l[5]||(l[5]=e=>v(O)?O.value=e:null),page:u(F).pageNum,"onUpdate:page":l[6]||(l[6]=e=>u(F).pageNum=e),limit:u(F).pageSize,"onUpdate:limit":l[7]||(l[7]=e=>u(F).pageSize=e),onPagination:M},null,8,["total","page","limit"])):k("",!0)])),_:1})])])}}}),[["__scopeId","data-v-5b46fc25"]]);export{F as default};
