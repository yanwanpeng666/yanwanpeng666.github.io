import{s as e,d as t,aq as n,el as a,o as r,aw as s,bD as o}from"./index.Dv9sjPYC.js";const d=(d,l)=>{const i=e({}),u=e([]),p=new WeakMap,c=()=>{u.value=((e,t,n)=>s(e.subTree).filter(e=>{var n;return o(e)&&(null==(n=e.type)?void 0:n.name)===t&&!!e.component}).map(e=>e.component.uid).map(e=>n[e]).filter(e=>!!e))(d,l,i.value)},f=e=>e.render(),m=t({setup:(e,{slots:t})=>()=>(c(),t.default?n(f,{render:t.default}):null)});return{children:u,addChild:e=>{i.value[e.uid]=e,a(i),r(()=>{const t=e.getVnode().el,n=t.parentNode;if(!p.has(n)){p.set(n,[]);const e=n.insertBefore.bind(n);n.insertBefore=(t,r)=>(p.get(n).some(e=>t===e||r===e)&&a(i),e(t,r))}p.get(n).push(t)})},removeChild:e=>{delete i.value[e.uid],a(i);const t=e.getVnode().el,n=t.parentNode,r=p.get(n),s=r.indexOf(t);r.splice(s,1)},ChildrenSorter:m}};export{d as u};
