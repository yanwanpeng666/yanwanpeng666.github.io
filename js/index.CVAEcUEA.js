import{d as e,r as l,S as a,ag as t,I as o,o as i,ae as r,e as s,h as n,B as p,l as d,w as m,g as u,W as c,Q as f,R as y,f as g,X as h,i as j,D as x,V as b,aj as v,p as k}from"./index.CFVY3HBy.js";import{v as _}from"./el-loading.CVZZ7GgQ.js";import{_ as w}from"./index.Ung6bFrr.js";import{E as C,a as E}from"./el-table-column.BvOys-0N.js";import"./el-checkbox.CFWKGZaX.js";import"./el-tooltip.l0sNRNKZ.js";import"./el-popper.DhQhkFVZ.js";import"./el-scrollbar.oo1tVCfQ.js";/* empty css               */import{E as V}from"./el-card.Dl1WRlwM.js";import{E as N,a as T}from"./el-form-item.tb3HahBH.js";import{E as U}from"./el-button.uknDft0p.js";import{E as z,a as S}from"./el-select.BQ5jHD8t.js";import{E as R}from"./el-input.C5RY0x0t.js";import{Q as I,G as P}from"./index.CR36Skti.js";import{_ as Q}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./el-pagination.B0K4IZXG.js";import"./isEqual.BgIeyYS5.js";import"./_Uint8Array.Cx1MsmB8.js";import"./index.DTwrxkTe.js";import"./index.CbVJklu1.js";import"./use-form-item.CBjoS1ZU.js";import"./_baseIteratee.CC5LmWe9.js";import"./debounce.Dm66dBye.js";import"./index.B6VZP29I.js";import"./index.BeXThEWt.js";import"./castArray.-UCiNoaS.js";import"./index.Bu2wo6cK.js";import"./token.DWNpOE8r.js";import"./strings.CznJvjxh.js";import"./index.CT8iiGYw.js";import"./scroll.Da6n5sOv.js";import"./index.Bli-dZve.js";const q={class:"app-container"},A={class:"search-bar"},D={class:"flex table-container"},K=["onClick"],W={class:"ellipsis"},B={class:"flex"},F=Q(e({name:"Codegen",__name:"index",setup(e){const Q=l(N),F=a({pageNum:1,pageSize:10}),G=l(!1),X=l(0),O=l([]),Z=l(0),H=a({options:[{name:"首页",id:"1"}]}),J=l({fieldConfigs:[]}),L=t();function M(){G.value=!0,P.getTablePage(F).then((e=>{O.value=e.list,Z.value=e.total})).finally((()=>{G.value=!1}))}function Y(){Q.value.resetFields(),F.pageNum=1,M()}async function $(e){L.push({name:"markdown"})}return o((()=>J.value.fieldConfigs),(e=>{e.forEach((e=>{e.fieldType&&e.fieldType.includes("Date")&&1===e.isShowInQuery&&(e.queryType=I.BETWEEN.value)}))}),{deep:!0,immediate:!0}),i((()=>{M()})),(e,l)=>{const a=R,t=T,o=z,i=S,I=r("Search"),P=U,J=r("Refresh"),L=N,ee=r("Plus"),le=r("Edit"),ae=r("Delete"),te=V,oe=C,ie=E,re=w,se=_;return s(),n("div",q,[p("div",A,[d(L,{ref_key:"queryFormRef",ref:Q,model:u(F),inline:!0},{default:m((()=>[d(t,{prop:"keywords",label:"标题"},{default:m((()=>[d(a,{modelValue:u(F).keywords,"onUpdate:modelValue":l[0]||(l[0]=e=>u(F).keywords=e),placeholder:"请输入标题",clearable:"",style:{width:"180px"},onKeyup:c(M,["enter"])},null,8,["modelValue"])])),_:1}),d(t,{prop:"keywords",label:"分类"},{default:m((()=>[d(i,{onKeyup:c(M,["enter"]),modelValue:u(F).keywords,"onUpdate:modelValue":l[1]||(l[1]=e=>u(F).keywords=e),style:{width:"180px"},placeholder:"请选择分类"},{default:m((()=>[(s(!0),n(f,null,y(u(H).options,(e=>(s(),g(o,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),d(t,{prop:"keywords",label:"作者"},{default:m((()=>[d(a,{style:{width:"180px"},modelValue:u(F).keywords,"onUpdate:modelValue":l[2]||(l[2]=e=>u(F).keywords=e),placeholder:"请输入作者",clearable:"",onKeyup:c(M,["enter"])},null,8,["modelValue"])])),_:1}),d(t,null,{default:m((()=>[d(P,{type:"primary",onClick:M},{icon:m((()=>[d(I)])),default:m((()=>[l[8]||(l[8]=h(" 搜索 "))])),_:1}),d(P,{onClick:Y},{icon:m((()=>[d(J)])),default:m((()=>[l[9]||(l[9]=h(" 重置 "))])),_:1})])),_:1})])),_:1},8,["model"])]),p("div",D,[d(te,{shadow:"never",style:{width:"380px","margin-right":"15px"}},{default:m((()=>[p("div",null,[d(P,{type:"primary",onClick:l[3]||(l[3]=e=>$()),style:{"margin-bottom":"20px"}},{icon:m((()=>[d(ee)])),default:m((()=>[l[10]||(l[10]=h(" 新增分类 "))])),_:1})]),p("div",null,[(s(!0),n(f,null,y(u(O),((e,l)=>(s(),n("div",{key:l,class:j([u(X)==l?"active":"","flex flex-x-between check_item"]),onClick:e=>function(e){X.value=e}(l)},[p("div",W,x(e.tableComment),1),p("div",B,[d(le,{style:{width:"20px",height:"20px",color:"var(--el-color-primary)",cursor:"pointer"}}),d(ae,{style:{width:"20px",height:"20px","margin-left":"15px",color:"var(--el-color-danger)",cursor:"pointer"}})])],10,K)))),128))])])),_:1}),d(te,{shadow:"never",class:"flex-1"},{default:m((()=>[p("div",null,[d(P,{type:"primary",onClick:l[4]||(l[4]=e=>$()),style:{"margin-bottom":"20px"}},{icon:m((()=>[d(ee)])),default:m((()=>[l[11]||(l[11]=h(" 新增 "))])),_:1})]),b((s(),g(ie,{ref:"dataTableRef",data:u(O),"highlight-current-row":"",border:""},{default:m((()=>[d(oe,{label:"标题",prop:"tableName","min-width":"100"}),d(oe,{label:"作者",prop:"tableComment",width:"150"}),d(oe,{label:"分类",align:"center",prop:"engine"}),d(oe,{label:"创建时间",align:"center",prop:"createTime"}),d(oe,{fixed:"right",label:"操作",width:"160"},{default:m((e=>[d(P,{type:"primary",size:"small",link:"",onClick:l=>$(e.row.tableName)},{icon:m((()=>[d(le)])),default:m((()=>[l[12]||(l[12]=h(" 编辑 "))])),_:2},1032,["onClick"]),d(P,{type:"danger",size:"small",link:""},{icon:m((()=>[d(ae)])),default:m((()=>[l[13]||(l[13]=h(" 删除 "))])),_:1})])),_:1})])),_:1},8,["data"])),[[se,u(G)]]),u(Z)>0?(s(),g(re,{key:0,total:u(Z),"onUpdate:total":l[5]||(l[5]=e=>v(Z)?Z.value=e:null),page:u(F).pageNum,"onUpdate:page":l[6]||(l[6]=e=>u(F).pageNum=e),limit:u(F).pageSize,"onUpdate:limit":l[7]||(l[7]=e=>u(F).pageSize=e),onPagination:M},null,8,["total","page","limit"])):k("",!0)])),_:1})])])}}}),[["__scopeId","data-v-5b46fc25"]]);export{F as default};
