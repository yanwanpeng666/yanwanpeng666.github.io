import{N as e,_ as t}from"./NoticeDetail.vue_vue_type_script_setup_true_lang.vVtiYWba.js";import{r as s,o as a,I as l,t as i,d as r,b as n,e as o,h as u,f as c,g as p,aK as d,p as f,i as m,_ as v,ad as x,Q as y,R as g,k as h,Y as _,as as w,l as k,q as b,G as j,z as S,c as N,aL as $,aM as C,B as R,n as E,D as z,X as T,aA as I,aN as B,ae as D,w as A,aI as M,E as L}from"./index.DbrnSrZI.js";/* empty css               */import{E as O}from"./el-card.RdyK1xBp.js";import{E as V,a as F}from"./el-col.CedzUcxM.js";import{_ as K}from"./index.BFSt_VH8.js";import{L as P}from"./log.DPRvNwti.js";import{E as U}from"./index.B3L11UJq.js";import{_ as q}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./el-dialog.Gt8ckcHc.js";import"./el-overlay.DBATOJxI.js";import"./vnode.BtSvcUQj.js";import"./use-form-item.Bd6zpZ0e.js";import"./scroll.CM76KvlP.js";import"./index.4teDAmMz.js";import"./refs.sotp9vgz.js";import"./index.eiMzUoAK.js";import"./el-descriptions-item.McHirt7C.js";import"./el-button.DrJ_PJnF.js";const G=i({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Number}}),H=i({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),J=r({name:"ElSkeletonItem"});var Q=v(r({...J,props:H,setup(e){const t=n("skeleton");return(e,s)=>(o(),u("div",{class:m([p(t).e("item"),p(t).e(e.variant)])},["image"===e.variant?(o(),c(p(d),{key:0})):f("v-if",!0)],2))}}),[["__file","skeleton-item.vue"]]);const X=r({name:"ElSkeleton"});const Y=b(v(r({...X,props:G,setup(e,{expose:t}){const i=e,r=n("skeleton"),d=((e,t=0)=>{if(0===t)return e;const i=s(!1);let r=null;const n=()=>{r&&clearTimeout(r),r=setTimeout((()=>{i.value=e.value}),t)};return a(n),l((()=>e.value),(e=>{e?n():i.value=e})),i})(x(i,"loading"),i.throttle);return t({uiLoading:d}),(e,t)=>p(d)?(o(),u("div",_({key:0,class:[p(r).b(),p(r).is("animated",e.animated)]},e.$attrs),[(o(!0),u(y,null,g(e.count,(t=>(o(),u(y,{key:t},[e.loading?h(e.$slots,"template",{key:t},(()=>[k(Q,{class:m(p(r).is("first")),variant:"p"},null,8,["class"]),(o(!0),u(y,null,g(e.rows,(t=>(o(),c(Q,{key:t,class:m([p(r).e("paragraph"),p(r).is("last",t===e.rows&&e.rows>1)]),variant:"p"},null,8,["class"])))),128))])):f("v-if",!0)],64)))),128))],16)):h(e.$slots,"default",w(_({key:1},e.$attrs)))}}),[["__file","skeleton.vue"]]),{SkeletonItem:Q}),W=j(Q),Z=i({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:S([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:S([String,Object,Array])}}),ee=r({name:"ElStatistic"});const te=b(v(r({...ee,props:Z,setup(e,{expose:t}){const s=e,a=n("statistic"),l=N((()=>{const{value:e,formatter:t,precision:a,decimalSeparator:l,groupSeparator:i}=s;if($(t))return t(e);if(!C(e)||Number.isNaN(e))return e;let[r,n=""]=String(e).split(".");return n=n.padEnd(a,"0").slice(0,a>0?a:0),r=r.replace(/\B(?=(\d{3})+(?!\d))/g,i),[r,n].join(n?l:"")}));return t({displayValue:l}),(e,t)=>(o(),u("div",{class:m(p(a).b())},[e.$slots.title||e.title?(o(),u("div",{key:0,class:m(p(a).e("head"))},[h(e.$slots,"title",{},(()=>[T(z(e.title),1)]))],2)):f("v-if",!0),R("div",{class:m(p(a).e("content"))},[e.$slots.prefix||e.prefix?(o(),u("div",{key:0,class:m(p(a).e("prefix"))},[h(e.$slots,"prefix",{},(()=>[R("span",null,z(e.prefix),1)]))],2)):f("v-if",!0),R("span",{class:m(p(a).e("number")),style:E(e.valueStyle)},z(p(l)),7),e.$slots.suffix||e.suffix?(o(),u("div",{key:1,class:m(p(a).e("suffix"))},[h(e.$slots,"suffix",{},(()=>[R("span",null,z(e.suffix),1)]))],2)):f("v-if",!0)],2)],2))}}),[["__file","statistic.vue"]])),se={class:"dashboard-container"},ae={class:"flex h-full items-center"},le=["src"],ie={class:"flex h-full items-center justify-around"},re={class:"flex items-center"},ne={class:"text-[16px] ml-1"},oe={class:"flex-x-between"},ue={class:"flex-x-between mt-2"},ce={class:"text-lg"},pe={class:"flex-x-between"},de={class:"mt-3 flex-x-between"},fe={class:"flex-x-between"},me={class:"text-[var(--el-text-color-secondary)]"},ve={class:"flex-x-between mt-2"},xe={class:"flex-y-center"},ye={class:"text-lg"},ge={class:"flex-x-between mt-2 text-sm text-[var(--el-text-color-secondary)]"},he=q(r({name:"Dashboard",inheritAttrs:!1,__name:"index",setup(l){const i=s(),r=I(),n=new Date,d=N((()=>{const e=n.getHours();return e>=6&&e<8?"æ™¨èµ·æŠ«è¡£å‡ºè‰å ‚ï¼Œè½©çª—å·²è‡ªå–œå¾®å‡‰ðŸŒ…ï¼":e>=8&&e<12?"ä¸Šåˆå¥½ï¼Œå¼ ä¸‰åŒ»ç”Ÿï¼":e>=12&&e<18?"ä¸‹åˆå¥½ï¼Œå¼ ä¸‰åŒ»ç”Ÿï¼":e>=18&&e<24?"æ™šä¸Šå¥½ï¼Œå¼ ä¸‰åŒ»ç”Ÿï¼":"å·å·å‘é“¶æ²³è¦äº†ä¸€æŠŠç¢Žæ˜Ÿï¼Œåªç­‰ä½ é—­ä¸Šçœ¼ç›æ’’å…¥ä½ çš„æ¢¦ä¸­ï¼Œæ™šå®‰ðŸŒ›ï¼"})),v=s([{value:99,iconClass:"message",title:"æ¶ˆæ¯",key:"message"},{value:50,iconClass:"todo",title:"å¾…åŠž",suffix:"/100",key:"upcoming"},{value:10,iconClass:"project",title:"é¡¹ç›®",key:"project"}]),x=s(0),h=s(!0),_=s(Array(3).fill({})),w=e=>{if(0===e)return"-";return Math.abs(100*e).toFixed(2).replace(/\.?0+$/,"")+"%"},b=e=>{switch(e){case"pv":default:return"pv";case"uv":return"uv";case"ip":return"ip"}},j=s([]);return a((()=>{(async()=>{const e=await P.getVisitStats();if(e){const t=["primary","success","warning"],s=e.map(((e,s)=>({title:e.title,icon:b(e.type),tagType:t[s%t.length],growthRate:e.growthRate,granularity:"æ—¥",todayCount:e.todayCount,totalCount:e.totalCount})));_.value=s,h.value=!1}})(),e.getMyNoticePage({pageNum:1,pageSize:10}).then((e=>{j.value=e.list})),B.subscribeToTopic("/topic/onlineUserCount",(e=>{x.value=JSON.parse(e)}))})),(e,s)=>{const a=F,l=K,n=te,b=V,j=O,S=U,N=W,$=D("Top"),C=D("Bottom"),E=L,I=Y,B=t;return o(),u("div",se,[k(j,{shadow:"never"},{default:A((()=>[k(b,{justify:"space-between"},{default:A((()=>[k(a,{span:18,xs:24},{default:A((()=>[R("div",ae,[R("img",{class:"w-20 h-20 mr-5 rounded-full",src:p(r).userInfo.avatar+"?imageView2/1/w/80/h/80"},null,8,le),R("div",null,[R("p",null,z(p(d)),1),s[0]||(s[0]=R("p",{class:"text-sm text-gray"},"ä»Šæ—¥å¤©æ°”æ™´æœ—ï¼Œæ°”æ¸©åœ¨15â„ƒè‡³25â„ƒä¹‹é—´ï¼Œä¸œå—é£Žã€‚",-1))])])])),_:1}),k(a,{span:6,xs:24},{default:A((()=>[R("div",ie,[(o(!0),u(y,null,g(p(v),(e=>(o(),c(n,{key:e.key,value:e.value},M({title:A((()=>[R("div",re,[k(l,{"icon-class":e.iconClass,size:"20px"},null,8,["icon-class"]),R("span",ne,z(e.title),1)])])),_:2},[e.suffix?{name:"suffix",fn:A((()=>[s[1]||(s[1]=T("/100"))])),key:"0"}:void 0]),1032,["value"])))),128))])])),_:1})])),_:1})])),_:1}),k(b,{gutter:10,class:"mt-3"},{default:A((()=>[k(a,{xs:24,sm:12,lg:6},{default:A((()=>[k(j,{shadow:"never"},{header:A((()=>[R("div",oe,[s[3]||(s[3]=R("span",{class:"text-[var(--el-text-color-secondary)]"},"é¢„çº¦æ‚£è€…",-1)),k(S,{type:"success",size:"small"},{default:A((()=>s[2]||(s[2]=[T("12äºº")]))),_:1})])])),default:A((()=>[R("div",ue,[R("span",ce,z(p(x)),1),k(l,{"icon-class":"user",size:"2em"})]),s[4]||(s[4]=R("div",{class:"flex-x-between mt-2 text-sm text-[var(--el-text-color-secondary)]"},[R("span",null,"æ€»ç”¨æˆ·æ•°"),R("span",null,"5")],-1))])),_:1})])),_:1}),(o(!0),u(y,null,g(p(_),((e,t)=>(o(),c(a,{key:t,xs:24,sm:12,lg:6},{default:A((()=>[k(I,{loading:p(h),rows:5,animated:""},{template:A((()=>[k(j,null,{header:A((()=>[R("div",null,[k(N,{variant:"h3",style:{width:"40%"}}),k(N,{variant:"rect",style:{float:"right",width:"1em",height:"1em"}})])])),default:A((()=>[R("div",pe,[k(N,{variant:"text",style:{width:"30%"}}),k(N,{variant:"circle",style:{width:"2em",height:"2em"}})]),R("div",de,[k(N,{variant:"text",style:{width:"50%"}}),k(N,{variant:"text",style:{width:"1em"}})])])),_:1})])),default:A((()=>[p(h)?f("",!0):(o(),c(j,{key:0,shadow:"never"},{header:A((()=>[R("div",fe,[R("span",me,z(e.title),1),k(S,{type:e.tagType,size:"small"},{default:A((()=>[T(z(e.granularity),1)])),_:2},1032,["type"])])])),default:A((()=>{return[R("div",ve,[R("div",xe,[R("span",ye,z(e.todayCount),1),R("span",{class:m(["text-xs","ml-2",(t=e.growthRate,t>0?"color-[--el-color-danger]":t<0?"color-[--el-color-success]":"color-[--el-color-info]")])},[k(E,null,{default:A((()=>[e.growthRate>0?(o(),c($,{key:0})):e.growthRate<0?(o(),c(C,{key:1})):f("",!0)])),_:2},1024),T(" "+z(w(e.growthRate)),1)],2)]),k(l,{"icon-class":e.icon,size:"2em"},null,8,["icon-class"])]),R("div",ge,[R("span",null,"æ€»"+z(e.title),1),R("span",null,z(e.totalCount),1)])];var t})),_:2},1024))])),_:2},1032,["loading"])])),_:2},1024)))),128))])),_:1}),k(B,{ref_key:"noticeDetailRef",ref:i},null,512)])}}}),[["__scopeId","data-v-1f7021c5"]]);export{he as default};
