import{d as e,cb as l,r as a,J as t,o as d,e as s,h as u,f as o,w as i,g as r,S as n,V as y,i as m,k as c,aL as p,ai as b,G as v}from"./index.-2dSJvT_.js";import{a as f,E as V}from"./el-checkbox.5kbAoqEu.js";import{E as g,b as h,a as k,c as x}from"./el-select.D5K2M6II.js";import"./el-tag.CL_KEoGm.js";import"./el-scrollbar.h6wvvJ8y.js";const _=e({__name:"index",props:{code:{type:String,required:!0},modelValue:{type:[String,Number,Array],required:!1},type:{type:String,default:"select",validator:e=>["select","radio","checkbox"].includes(e)},placeholder:{type:String,default:"请选择"},disabled:{type:Boolean,default:!1},style:{type:Object,default:()=>({width:"300px"})}},emits:["update:modelValue"],setup(e,{emit:_}){const S=l(),j=e,A=_,w=a([]),C=a("string"==typeof j.modelValue||"number"==typeof j.modelValue||Array.isArray(j.modelValue)?j.modelValue:void 0);function D(e){A("update:modelValue",e)}return t([()=>j.modelValue,()=>w.value],([e,l])=>{if(l.length>0&&void 0!==e)if("checkbox"===j.type)C.value=Array.isArray(e)?e:[];else{const a=l.find(l=>String(l.value)===String(e));C.value=null==a?void 0:a.value}else C.value=void 0},{immediate:!0}),d(async()=>{await S.loadDictItems(j.code),w.value=S.getDictItems(j.code)}),(l,a)=>{const t=k,d=g,_=x,S=h,j=V,A=f;return"select"===e.type?(o(),s(d,{key:0,modelValue:m(C),"onUpdate:modelValue":a[0]||(a[0]=e=>p(C)?C.value=e:null),placeholder:e.placeholder,disabled:e.disabled,clearable:"",style:c(e.style),onChange:D},{default:i(()=>[(o(!0),r(n,null,y(m(w),e=>(o(),s(t,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder","disabled","style"])):"radio"===e.type?(o(),s(S,{key:1,modelValue:m(C),"onUpdate:modelValue":a[1]||(a[1]=e=>p(C)?C.value=e:null),disabled:e.disabled,style:c(e.style),onChange:D},{default:i(()=>[(o(!0),r(n,null,y(m(w),e=>(o(),s(_,{key:e.value,label:e.label,value:e.value},{default:i(()=>[b(v(e.label),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue","disabled","style"])):"checkbox"===e.type?(o(),s(A,{key:2,modelValue:m(C),"onUpdate:modelValue":a[2]||(a[2]=e=>p(C)?C.value=e:null),disabled:e.disabled,style:c(e.style),onChange:D},{default:i(()=>[(o(!0),r(n,null,y(m(w),e=>(o(),s(j,{key:e.value,label:e.label,value:e.value},{default:i(()=>[b(v(e.label),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue","disabled","style"])):u("",!0)}}});export{_};
