import{d as e,r as t,cx as l,c as a,o as s,bq as r,J as i,aK as n,g as o,f as c,n as d,D as u,h as p,m as v,E as y,w as f,k as w,i as x,aJ as m}from"./index.Dv9sjPYC.js";const _=["typewriter"],g={class:"left-icon"},h={class:"scroll-wrapper"},T=["innerHTML"],L=["innerHTML"],k=m(e({__name:"index",props:{text:{},speed:{default:70},direction:{default:"left"},type:{default:"default"},showClose:{type:Boolean,default:!1},typewriter:{type:Boolean,default:!1},typewriterSpeed:{default:100}},emits:["close"],setup(e,{emit:m}){const k=m,C=e,H=t(null),M=l(H),B=t(null),E=t(0),z=t("");let I=null;const J=t(!1),S=a(()=>C.typewriter?!M.value&&J.value:!M.value),$=a(()=>C.typewriter?z.value:C.text),b=a(()=>({"--animation-duration":`${E.value}s`,"--animation-play-state":S.value?"running":"paused","--animation-direction":"left"===C.direction?"normal":"reverse"})),j=()=>{if(B.value){const e=B.value.scrollWidth/2;E.value=e/C.speed}},q=()=>{k("close"),H.value&&H.value.remove()},D=()=>{let e=0;z.value="",J.value=!1;const t=()=>{e<C.text.length?(z.value+=C.text[e],e++,I=setTimeout(t,C.typewriterSpeed)):J.value=!0};t()};return s(()=>{j(),window.addEventListener("resize",j),C.typewriter&&D()}),r(()=>{window.removeEventListener("resize",j),I&&clearTimeout(I)}),i(()=>C.text,()=>{C.typewriter&&(I&&clearTimeout(I),D())}),(t,l)=>{const a=n("Bell"),s=y,r=n("Close");return c(),o("div",{ref_key:"containerRef",ref:H,class:d(["text-scroll-container",[`text-scroll--${C.type}`]]),typewriter:C.typewriter?"true":void 0},[u("div",g,[v(s,null,{default:f(()=>[v(a)]),_:1})]),u("div",h,[u("div",{ref_key:"scrollContent",ref:B,class:d(["text-scroll-content",{scrolling:x(S)}]),style:w(x(b))},[u("div",{class:"scroll-item",innerHTML:x($)},null,8,T),u("div",{class:"scroll-item",innerHTML:x($)},null,8,L)],6)]),e.showClose?(c(),o("div",{key:0,class:"right-icon",onClick:q},[v(s,null,{default:f(()=>[v(r)]),_:1})])):p("",!0)],10,_)}}}),[["__scopeId","data-v-9dd3fad7"]]),C={class:"app-container"},H=m(e({__name:"text-scroll",setup:e=>(e,t)=>(c(),o("div",C,[v(k,{text:"这是一条基础的滚动公告，默认向左滚动。",typewriter:""}),v(k,{type:"success",text:"这是一条成功类型的滚动公告",typewriter:""}),v(k,{type:"warning",text:"这是一条警告类型的滚动公告"}),v(k,{type:"danger",text:"这是一条危险类型的滚动公告"}),v(k,{type:"info",text:"这是一条信息类型的滚动公告"}),v(k,{text:"这是一条速度较慢、向右滚动的公告",speed:30,direction:"right","show-close":""})]))}),[["__scopeId","data-v-450c01f7"]]);export{H as default};
