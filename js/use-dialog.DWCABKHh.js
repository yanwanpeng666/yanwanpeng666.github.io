import{v as e,x as l,bH as o,U as n,A as a,C as t,b6 as r,bs as s,r as u,cF as d,c as i,dw as c,K as f,au as v,at as p,ca as y,b9 as g,J as m,o as C,ar as b,I as B,Z as S}from"./index.-2dSJvT_.js";import{t as A}from"./index.DNWtI2fw.js";const x=Symbol("dialogInjectionKey"),I="dialog-fade",L=e({center:Boolean,alignCenter:{type:Boolean,default:void 0},closeIcon:{type:l},draggable:{type:Boolean,default:void 0},overflow:{type:Boolean,default:void 0},fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),w={close:()=>!0},D=e({...L,appendToBody:Boolean,appendTo:{type:A.to.type,default:"body"},beforeClose:{type:a(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},modalPenetrable:Boolean,openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"},transition:{type:a([String,Object]),default:void 0}}),F={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[n]:e=>o(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},h=(e,l)=>{var o;const a=t().emit,{nextZIndex:A}=r();let x="";const L=s(),w=s(),D=u(!1),F=u(!1),h=u(!1),E=u(null!=(o=e.zIndex)?o:A());let O,z;const k=d(),j=i(()=>{var e,l;return null!=(l=null==(e=k.value)?void 0:e.namespace)?l:c}),N=i(()=>{var e;return null==(e=k.value)?void 0:e.dialog}),P=i(()=>{const l={},o=`--${j.value}-dialog`;if(!e.fullscreen){e.top&&(l[`${o}-margin-top`]=e.top);const n=f(e.width);n&&(l[`${o}-width`]=n)}return l}),T=i(()=>{var l,o,n;return null!=(n=null!=(o=e.draggable)?o:null==(l=N.value)?void 0:l.draggable)&&n&&!e.fullscreen}),M=i(()=>{var l,o,n;return null!=(n=null!=(o=e.alignCenter)?o:null==(l=N.value)?void 0:l.alignCenter)&&n}),V=i(()=>{var l,o,n;return null!=(n=null!=(o=e.overflow)?o:null==(l=N.value)?void 0:l.overflow)&&n}),$=i(()=>M.value?{display:"flex"}:{}),_=i(()=>{var l,o,n;const a=null!=(n=null!=(o=e.transition)?o:null==(l=N.value)?void 0:l.transition)?n:I,t={name:a,onAfterEnter:K,onBeforeLeave:Z,onAfterLeave:R};if(v(a)){const e={...a},l=(e,l)=>o=>{p(e)?e.forEach(e=>{y(e)&&e(o)}):y(e)&&e(o),l()};return e.onAfterEnter=l(e.onAfterEnter,K),e.onBeforeLeave=l(e.onBeforeLeave,Z),e.onAfterLeave=l(e.onAfterLeave,R),e.name||(e.name=I),e}return t});function K(){a("opened")}function R(){a("closed"),a(n,!1),e.destroyOnClose&&(h.value=!1)}function Z(){a("close")}function q(){null==z||z(),null==O||O(),e.openDelay&&e.openDelay>0?({stop:O}=b(()=>U(),e.openDelay)):U()}function H(){null==O||O(),null==z||z(),e.closeDelay&&e.closeDelay>0?({stop:z}=b(()=>G(),e.closeDelay)):G()}function J(){e.beforeClose?e.beforeClose(function(e){e||(F.value=!0,D.value=!1)}):H()}function U(){B&&(D.value=!0)}function G(){D.value=!1}return e.lockScroll&&g(D),m(()=>e.zIndex,()=>{var l;E.value=null!=(l=e.zIndex)?l:A()}),m(()=>e.modelValue,o=>{var n;o?(F.value=!1,q(),h.value=!0,E.value=null!=(n=e.zIndex)?n:A(),S(()=>{a("open"),l.value&&(l.value.parentElement.scrollTop=0,l.value.parentElement.scrollLeft=0,l.value.scrollTop=0)})):D.value&&H()}),m(()=>e.fullscreen,e=>{l.value&&(e?(x=l.value.style.transform,l.value.style.transform=""):l.value.style.transform=x)}),C(()=>{e.modelValue&&(D.value=!0,h.value=!0,q())}),{afterEnter:K,afterLeave:R,beforeLeave:Z,handleClose:J,onModalClick:function(){e.closeOnClickModal&&J()},close:H,doClose:G,onOpenAutoFocus:function(){a("openAutoFocus")},onCloseAutoFocus:function(){a("closeAutoFocus")},onCloseRequested:function(){e.closeOnPressEscape&&J()},onFocusoutPrevented:function(e){var l;"pointer"===(null==(l=e.detail)?void 0:l.focusReason)&&e.preventDefault()},titleId:L,bodyId:w,closed:F,style:P,overlayDialogStyle:$,rendered:h,visible:D,zIndex:E,transitionConfig:_,_draggable:T,_alignCenter:M,_overflow:V}};export{D as a,w as b,L as c,F as d,x as e,h as u};
